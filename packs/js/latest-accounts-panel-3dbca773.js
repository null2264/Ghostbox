import{u as M,a9 as S,d as k,q as i,aq as E,r as c,ax as I,gK as w,hp as C,hP as D,a as u,B as L,o as P}from"../index-31181b4d.js";import{W as R}from"./widget-d2a5220d.js";import"./arrow-right-b75290c7.js";var l=P({title:{id:"admin.latest_accounts_panel.title",defaultMessage:"Latest Accounts"},expand:{id:"admin.latest_accounts_panel.more",defaultMessage:"Click to see {count, plural, one {# account} other {# accounts}}"}}),b=function(d){var n=d.limit,a=n===void 0?5:n,o=M(),f=S(),p=k(),e=i(function(t){return t.admin.get("latestUsers").take(a)}),m=i(function(t){return e.every(function(y){var s;return!!((s=E(t,y))!==null&&s!==void 0&&s.created_at)})}),v=c.useState(e.size),r=I(v,2),h=r[0],A=r[1];c.useEffect(function(){p(w(["local","active"],1,null,a)).then(function(t){A(t.count)}).catch(function(){})},[]);var _=e.sort(C).reverse(),g=m&&D(e,_);if(!g||!e||e.isEmpty())return null;var x=function(){f.push("/ghostbox/admin/users")};return u(R,{title:o.formatMessage(l.title),onActionClick:x,actionTitle:o.formatMessage(l.expand,{count:h})},void 0,e.take(a).map(function(t){return u(L,{id:t,withRelationship:!1,withDate:!0},t)}))};export{b as default};
