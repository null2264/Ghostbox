import{g as P,kn as N,R as f,a as e,es as k,d as w,u as L,q as E,r as T,ax as I,ko as F,L as A,bJ as B,ae as v,db as D,F as n,a3 as u,o as O,aH as q,y as G}from"../index-65d14f84.js";import{u as z}from"./useDebounce-6c9ecf70.js";import{G as U}from"./group-card-5fd41964.js";import{S as V}from"./scrollable-list-d5ed43fc.js";import{h as j,P as H}from"./permissions-2149f5e2.js";import{P as J}from"./placeholder-group-card-5045534b.js";import{P as K}from"./pending-items-row-4f56e508.js";import{T as Y,a as Q}from"./tab-bar-dba1101c.js";import"./group-header-image-091782b9.js";import"./index-f7d5d703.js";import"./load-more-e37876cd.js";const W=function(){var i=P(),s=N(),r=s.groups,t=s.isFetching;return!i.groupsPending||t||r.length===0?null:f.createElement(f.Fragment,null,e(K,{to:"/groups/pending-requests",count:r.length,size:"lg"}),e(k,{}))};var X=O({placeholder:{id:"groups.search.placeholder",defaultMessage:"Search My Groups"}}),le=function(){var s=z,r=w(),t=P(),M=L(),l=E(function(a){return j(a,H)}),C=T.useState(""),p=I(C,2),c=p[0],_=p[1],y=s(c,300),o=F(y),d=o.groups,g=o.isLoading,m=o.hasNextPage,S=o.fetchNextPage,b=function(){m&&S()},h=function(){return r(q("CREATE_GROUP"))},R=function(){return e(u,{space:4,alignItems:"center",justifyContent:"center",className:"py-6"},void 0,e(u,{space:2,className:"max-w-sm"},void 0,e(G,{size:"2xl",weight:"bold",tag:"h2",align:"center"},void 0,e(n,{id:"groups.empty.title",defaultMessage:"No Groups yet"})),e(G,{size:"sm",theme:"muted",align:"center"},void 0,e(n,{id:"groups.empty.subtitle",defaultMessage:"Start discovering groups to join or create your own."}))),l&&e(v,{className:"self-center",onClick:h,theme:"secondary"},void 0,e(n,{id:"new_group_panel.action",defaultMessage:"Create Group"})))};return e(u,{space:4},void 0,t.groupsDiscovery&&e(Y,{activeTab:Q.MY_GROUPS}),l&&e(v,{className:"xl:hidden",icon:D,onClick:h,theme:"secondary",block:!0},void 0,e(n,{id:"new_group_panel.action",defaultMessage:"Create Group"})),t.groupsSearch?e(B,{onChange:function(x){return _(x.target.value)},placeholder:M.formatMessage(X.placeholder),theme:"search",value:c}):null,e(W,{}),e(V,{scrollKey:"groups",emptyMessage:R(),emptyMessageCard:!1,itemClassName:"pb-4 last:pb-0",isLoading:g,showLoading:g&&d.length===0,placeholderComponent:J,placeholderCount:3,onLoadMore:b,hasMore:m},void 0,d.map(function(a){return e(A,{to:"/group/".concat(a.slug)},a.id,e(U,{group:a}))})))};export{le as default};
