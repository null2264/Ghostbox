import{aX as B,a9 as P,d as U,g as G,f as Y,aY as q,aZ as D,r,ax as H,q as i,a_ as K,a$ as N,b0 as V,b1 as h,a,aF as X,aG as Z,b2 as j,y as z,F as d,a2 as J}from"../index-a1fdd7c7.js";import{S as O}from"./status-list-c0d8d914.js";import"./scrollable-list-b4ead5cc.js";import"./index-64ffc95b.js";import"./load-more-f48acfb2.js";import"./status-container-dc784089.js";import"./pending-status-91bee1ab.js";import"./poll-preview-3ae7ad1f.js";import"./noop-5e66bd45.js";var _=B(),ue=function(l){var u=l.params,v=l.withReplies,n=v===void 0?!1:v,b=P(),o=U(),y=G(),x=Y(),S=q(),A=D(u.username,{withRelationship:!0}),e=A.account,I=r.useState(!e),f=H(I,2),M=f[0],p=f[1],c=n?"".concat(e==null?void 0:e.id,":with_replies"):e==null?void 0:e.id,L=x.getIn(["account_timeline","shows","pinned"])===!0&&!n,k=i(function(t){return _(t,{type:"account:".concat(c),prefix:"account_timeline"})}),w=i(function(t){return _(t,{type:"account:".concat(e==null?void 0:e.id,":pinned"),prefix:"account_timeline"})}),m=i(function(t){return t.relationships.getIn([e==null?void 0:e.id,"blocked_by"])===!0}),E=m&&!y.blockersVisible,g=S.getIn(["extensions","patron","enabled"])===!0,R=i(function(t){return t.getIn(["timelines","account:".concat(c),"isLoading"])===!0}),T=i(function(t){return t.getIn(["timelines","account:".concat(c),"hasMore"])===!0}),F=i(function(t){var s;return(s=t.timelines.get("account:".concat(c)))===null||s===void 0?void 0:s.next}),C=(e==null?void 0:e.username)||u.username;r.useEffect(function(){o(K(u.username,b)).then(function(){return p(!1)}).catch(function(){return p(!1)})},[u.username]),r.useEffect(function(){e&&!n&&o(N(e.id))},[e==null?void 0:e.id,n]),r.useEffect(function(){e&&g&&o(V(e.url))},[e==null?void 0:e.url,g]),r.useEffect(function(){e&&o(h(e.id,{withReplies:n}))},[e==null?void 0:e.id,n]);var $=function(s){e&&o(h(e.id,{url:F,maxId:s,withReplies:n}))};return!e&&M?a(X,{}):e?E?a(J,{},void 0,a(j,{},void 0,a(z,{align:"center"},void 0,m?a(d,{id:"empty_column.account_blocked",defaultMessage:"You are blocked by @{accountUsername}.",values:{accountUsername:C}}):a(d,{id:"empty_column.account_unavailable",defaultMessage:"Profile unavailable"})))):a(O,{scrollKey:"account_timeline",statusIds:k,featuredStatusIds:L?w:void 0,isLoading:R,hasMore:T,onLoadMore:$,emptyMessage:a(d,{id:"empty_column.account_timeline",defaultMessage:"No posts here!"})}):a(Z,{nested:!0})};export{ue as default};
