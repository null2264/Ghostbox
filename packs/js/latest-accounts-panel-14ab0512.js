import{u as y,a9 as I,d as S,q as i,aq as k,r as c,ax as E,gI as w,hn as C,hM as D,a as u,B as L,o as R}from"../index-d702bf0e.js";import{W as T}from"./widget-86c12e07.js";import"./arrow-right-b75290c7.js";var l=R({title:{id:"admin.latest_accounts_panel.title",defaultMessage:"Latest Accounts"},expand:{id:"admin.latest_accounts_panel.more",defaultMessage:"Click to see {count, plural, one {# account} other {# accounts}}"}}),b=function(d){var n=d.limit,a=n===void 0?5:n,o=y(),f=I(),p=S(),e=i(function(t){return t.admin.get("latestUsers").take(a)}),m=i(function(t){return e.every(function(M){var s;return!!((s=k(t,M))!==null&&s!==void 0&&s.created_at)})}),v=c.useState(e.size),r=E(v,2),h=r[0],A=r[1];c.useEffect(function(){p(w(["local","active"],1,null,a)).then(function(t){A(t.count)}).catch(function(){})},[]);var _=e.sort(C).reverse(),g=m&&D(e,_);if(!g||!e||e.isEmpty())return null;var x=function(){f.push("/ghostbox/admin/users")};return u(T,{title:o.formatMessage(l.title),onActionClick:x,actionTitle:o.formatMessage(l.expand,{count:h})},void 0,e.take(a).map(function(t){return u(L,{id:t,withRelationship:!1,withDate:!0},t)}))};export{b as default};
