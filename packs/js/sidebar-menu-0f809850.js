import{u as X,d as K,r as Q,hN as U,g as V,q as g,b6 as W,N as Y,hO as $,R as u,ax as j,hP as J,a as e,W as _,aK as Z,a6 as ee,a3 as x,L as ae,b5 as P,er as f,hQ as te,n as se,hR as oe,da as ie,aJ as re,K as ne,hS as le,hT as ce,hU as ue,F as b,hV as de,fT as q,hW as ge,fX as N,fU as fe,H as A,y as w,A as M,cQ as ve,hI as S,bX as me,o as ke,hX as be,eY as he,hY as pe}from"../index-c31959b9.js";import{v as _e}from"./hash-746ab8b6.js";import{P as xe}from"./profile-stats-72d3bdd0.js";const we="/packs/assets/filter-ea3a7ceb.svg";var o=ke({followers:{id:"account.followers",defaultMessage:"Followers"},follows:{id:"account.follows",defaultMessage:"Follows"},profile:{id:"account.profile",defaultMessage:"Profile"},preferences:{id:"navigation_bar.preferences",defaultMessage:"Preferences"},blocks:{id:"navigation_bar.blocks",defaultMessage:"Blocked users"},domainBlocks:{id:"navigation_bar.domain_blocks",defaultMessage:"Hidden domains"},mutes:{id:"navigation_bar.mutes",defaultMessage:"Muted users"},filters:{id:"navigation_bar.filters",defaultMessage:"Muted words"},followedTags:{id:"navigation_bar.followed_tags",defaultMessage:"Followed hashtags"},soapboxConfig:{id:"navigation_bar.soapbox_config",defaultMessage:"Soapbox config"},accountMigration:{id:"navigation_bar.account_migration",defaultMessage:"Move account"},accountAliases:{id:"navigation_bar.account_aliases",defaultMessage:"Account aliases"},logout:{id:"navigation_bar.logout",defaultMessage:"Logout"},bookmarks:{id:"column.bookmarks",defaultMessage:"Bookmarks"},lists:{id:"column.lists",defaultMessage:"Lists"},groups:{id:"column.groups",defaultMessage:"Groups"},events:{id:"column.events",defaultMessage:"Events"},invites:{id:"navigation_bar.invites",defaultMessage:"Invites"},developers:{id:"navigation.developers",defaultMessage:"Developers"},addAccount:{id:"profile_dropdown.add_account",defaultMessage:"Add an existing account"},followRequests:{id:"navigation_bar.follow_requests",defaultMessage:"Follow requests"},close:{id:"lightbox.close",defaultMessage:"Close"}}),i=function(a){var c=a.href,v=a.to,r=a.icon,h=a.text,m=a.onClick,n=e(A,{space:2,alignItems:"center"},void 0,e("div",{className:"relative inline-flex rounded-full bg-primary-50 p-2 dark:bg-gray-800"},void 0,e(M,{src:r,className:"h-5 w-5 text-primary-500"})),e(w,{tag:"span",weight:"medium",theme:"inherit"},void 0,h));return v?e(S,{className:"group rounded-full text-gray-900 hover:bg-gray-50 dark:text-gray-100 dark:hover:bg-gray-800",to:v,onClick:m},void 0,n):e("a",{className:"group rounded-full text-gray-900 hover:bg-gray-50 dark:text-gray-100 dark:hover:bg-gray-800",href:c,target:"_blank",onClick:m},void 0,n)},Re=function(){var a=X(),c=K(),v=Q.useCallback(U(),[]),r=V(),h=g(function(s){return s.me}),m=W(h||void 0),n=m.account,F=g(function(s){return v(s)}),k=g(function(s){return s.sidebar.sidebarOpen}),O=g(function(s){return Y(s)}),T=g(function(s){return s.user_lists.follow_requests.items.count()}),D=$(),H=u.useRef(null),I=u.useState(!1),C=j(I,2),y=C[0],R=C[1],t=function(){return c(be())},d=function(){R(!1),t()},B=function(l){return function(p){p.preventDefault(),c(pe(l.id))}},E=function(l){l.preventDefault(),c(he())},z=function(l){l.preventDefault(),R(function(p){return!p})},G=function(l){return e("a",{href:"#",className:"block py-2",onClick:B(l)},l.id,e("div",{className:"pointer-events-none"},void 0,e(P,{account:l,showProfileHoverCard:!1,withRelationship:!1,withLinkToProfile:!1})))};return u.useEffect(function(){c(J())},[]),n?e("div",{"aria-expanded":k,className:_({"z-[1000]":k,hidden:!k})},void 0,e("div",{className:"fixed inset-0 bg-gray-500/90 dark:bg-gray-700/90",role:"button",onClick:d}),e("div",{className:"fixed inset-0 z-[1000] flex"},void 0,e("div",{className:_({"flex flex-col flex-1 bg-white dark:bg-primary-900 -translate-x-full rtl:translate-x-full w-full max-w-xs":!0,"!translate-x-0":k})},void 0,u.createElement(Z,{title:a.formatMessage(o.close),onClick:d,src:ee,ref:H,iconClassName:"h-6 w-6",className:"absolute right-0 top-0 -mr-11 mt-2 text-gray-600 hover:text-gray-600 dark:text-gray-400 dark:hover:text-gray-300"}),e("div",{className:"relative h-full w-full overflow-auto overflow-y-scroll"},void 0,e("div",{className:"p-4"},void 0,e(x,{space:4},void 0,e(ae,{to:"/@".concat(n.acct),onClick:t},void 0,e(P,{account:n,showProfileHoverCard:!1,withLinkToProfile:!1})),e(xe,{account:n,onClickHandler:d}),e(x,{space:4},void 0,e(f,{}),e(i,{to:"/@".concat(n.acct),icon:te,text:a.formatMessage(o.profile),onClick:t}),(n.locked||T>0)&&e(i,{to:"/follow_requests",icon:se,text:a.formatMessage(o.followRequests),onClick:t}),r.bookmarks&&e(i,{to:"/bookmarks",icon:oe,text:a.formatMessage(o.bookmarks),onClick:t}),r.groups&&e(i,{to:D,icon:ie,text:a.formatMessage(o.groups),onClick:t}),r.lists&&e(i,{to:"/lists",icon:re,text:a.formatMessage(o.lists),onClick:t}),r.events&&e(i,{to:"/events",icon:ne,text:a.formatMessage(o.events),onClick:t}),O.get("isDeveloper")&&e(i,{to:"/developers",icon:le,text:a.formatMessage(o.developers),onClick:t}),r.publicTimeline&&u.createElement(u.Fragment,null,e(f,{}),e(i,{to:"/timeline/local",icon:r.federating?ce:ue,text:r.federating?e(b,{id:"tabs_bar.local",defaultMessage:"Local"}):e(b,{id:"tabs_bar.all",defaultMessage:"All"}),onClick:t}),r.federating&&e(i,{to:"/timeline/fediverse",icon:de,text:e(b,{id:"tabs_bar.fediverse",defaultMessage:"Fediverse"}),onClick:t})),e(f,{}),e(i,{to:"/blocks",icon:q,text:a.formatMessage(o.blocks),onClick:t}),e(i,{to:"/mutes",icon:ge,text:a.formatMessage(o.mutes),onClick:t}),e(i,{to:"/settings/preferences",icon:N,text:a.formatMessage(o.preferences),onClick:t}),r.federating&&e(i,{to:"/domain_blocks",icon:q,text:a.formatMessage(o.domainBlocks),onClick:t}),(r.filters||r.filtersV2)&&e(i,{to:"/filters",icon:we,text:a.formatMessage(o.filters),onClick:t}),r.followedHashtagsList&&e(i,{to:"/followed_tags",icon:_e,text:a.formatMessage(o.followedTags),onClick:t}),n.admin&&e(i,{to:"/ghostbox/admin/config",icon:N,text:a.formatMessage(o.soapboxConfig),onClick:t}),e(f,{}),e(i,{to:"/logout",icon:fe,text:a.formatMessage(o.logout),onClick:E}),e(f,{}),e(x,{space:4},void 0,e("button",{type:"button",onClick:z,className:"py-1"},void 0,e(A,{alignItems:"center",justifyContent:"between"},void 0,e(w,{tag:"span"},void 0,e(b,{id:"profile_dropdown.switch_account",defaultMessage:"Switch accounts"})),e(M,{src:ve,className:_("h-4 w-4 text-gray-900 transition-transform dark:text-gray-100",{"rotate-180":y})}))),y&&e("div",{className:"border-t-2 border-solid border-gray-100 dark:border-gray-800"},void 0,F.map(function(s){return G(s)}),e(S,{className:"flex items-center space-x-1 py-2",to:"/login/add",onClick:d},void 0,e(M,{className:"h-4 w-4 text-primary-500",src:me}),e(w,{size:"sm",weight:"medium"},void 0,a.formatMessage(o.addAccount)))))))))),e("div",{"aria-hidden":!0,className:"w-14 shrink-0",onClick:d}))):null};export{Re as default};
