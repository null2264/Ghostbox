import{d as I,eb as _,kQ as x,bN as L,a,aF as b,X as c,aG as F,F as w,aH as l}from"../index-1d07a6e7.js";import{L as O}from"./load-more-5b601834.js";import{M as P}from"./media-item-9c788401.js";import"./volume-08f8a8f1.js";import"./es.array.last-index-of-fb8ef871.js";var R=function(m){var o=m.params.groupId,t=I(),n=_(o),d=n.group,g=n.isLoading,i=x(o),f=i.entities,v=i.fetchNextPage,u=i.isLoading,M=i.isFetching,N=i.hasNextPage,p=f.reduce(function(s,e){return s.push.apply(s,L(e.media_attachments.map(function(r){return r.set("status",e)}))),s},[]),h=function(e){if(e.type==="video")t(l("VIDEO",{media:e,status:e.status,account:e.account}));else{var r=e.status.media_attachments,G=r.findIndex(function(y){return y.id===e.id});t(l("MEDIA",{media:r,index:G,status:e.status}))}};return u||g?a(c,{transparent:!0,withHeader:!1},void 0,a("div",{className:"pt-6"},void 0,a(b,{}))):d?a(c,{label:d.display_name,transparent:!0,withHeader:!1},void 0,a("div",{role:"feed",className:"mt-4 grid grid-cols-2 gap-2 sm:grid-cols-3"},void 0,p.map(function(s){return a(P,{attachment:s,onOpenMedia:h},"".concat(s.status.id,"+").concat(s.id))}),!u&&p.length===0&&a("div",{className:"empty-column-indicator col-span-2 sm:col-span-3"},void 0,a(w,{id:"account_gallery.none",defaultMessage:"No media to show."}))),N&&a(O,{className:"mt-4",disabled:M,onClick:v})):a("div",{className:"pt-6"},void 0,a(F,{nested:!0}))};export{R as default};
