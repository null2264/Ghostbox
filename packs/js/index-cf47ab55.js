import{bm as _,g as b,bn as O,bo as R,bp as E,u as y,bq as I,a as e,H as v,br as z,y as k,ae as w,F as p,bs as F,o as C,r as H,ax as B,a3 as Y,T as j,R as h,az as S,B as q,X as K}from"../index-1716ad4e.js";import{c as X}from"./useAccountList-05d48e45.js";import{S as U}from"./scrollable-list-4fa66206.js";import"./index-fbef148f.js";import"./load-more-cf666df5.js";function $(){const s=_(),n=b(),{entities:a,...t}=O([E.GROUP_MUTES],()=>s.get("/api/v1/groups/mutes"),{schema:R,enabled:n.groupsMuting});return{...t,mutes:a}}var D=C({unmuteSuccess:{id:"group.unmute.success",defaultMessage:"Unmuted the group"}}),J=function(n){var a=n.group,t=n.onUnmute,i=y(),c=I(a),m=function(){c.mutate(void 0,{onSuccess:function(){t(),F.success(i.formatMessage(D.unmuteSuccess))}})};return e(v,{alignItems:"center",justifyContent:"between"},void 0,e(v,{alignItems:"center",space:3},void 0,e(z,{group:a,size:42}),e(k,{weight:"semibold",size:"sm",dangerouslySetInnerHTML:{__html:a.display_name_html},truncate:!0})),e(w,{theme:"primary",type:"button",onClick:m,size:"sm"},void 0,e(p,{id:"group.unmute.label",defaultMessage:"Unmute"})))},Q=C({heading:{id:"column.mutes",defaultMessage:"Mutes"}}),u=function(s){return s.ACCOUNTS="ACCOUNTS",s.GROUPS="GROUPS",s}(u||{}),se=function(){var n=y(),a=b(),t=X(),i=t.accounts,c=t.hasNextPage,m=t.fetchNextPage,g=t.isLoading,o=$(),G=o.mutes,x=o.isLoading,A=o.hasNextPage,N=o.fetchNextPage,L=o.fetchEntities,T=H.useState(u.ACCOUNTS),d=B(T,2),l=d[0],f=d[1],P=l===u.ACCOUNTS,M={itemClassName:"pb-4 last:pb-0",scrollKey:"mutes",emptyMessageCard:!1};return e(K,{label:n.formatMessage(Q.heading)},void 0,e(Y,{space:4},void 0,a.groupsMuting&&e(j,{items:[{text:"Users",action:function(){return f(u.ACCOUNTS)},name:u.ACCOUNTS},{text:"Groups",action:function(){return f(u.GROUPS)},name:u.GROUPS}],activeItem:l}),P?h.createElement(U,S({},M,{isLoading:g,onLoadMore:m,hasMore:c,emptyMessage:e(p,{id:"empty_column.mutes",defaultMessage:"You haven't muted any users yet."})}),i.map(function(r){return e(q,{id:r.id,actionType:"muting"},r.id)})):h.createElement(U,S({},M,{isLoading:x,onLoadMore:N,hasMore:A,emptyMessage:e(p,{id:"mutes.empty.groups",defaultMessage:"You haven't muted any groups yet."})}),G.map(function(r){return e(J,{group:r,onUnmute:L})}))))};export{se as default};
