import{u as P,r as i,at as b,a,W as S,R as l,av as v,X as _,o as w,as as C}from"../index-dcd449aa.js";import{V as I,a as N}from"./index-b69eb56b.js";import{u as R}from"./usePopularGroups-0616963e.js";import{G as y}from"./layout-list-702c7b57.js";import{G as M}from"./group-list-item-1827957f.js";import{G as f,L as E}from"./layout-buttons-b0911743.js";import"./group-header-image-a3d335b9.js";var W=["context"],T=w({label:{id:"groups.popular.label",defaultMessage:"Popular Groups"}}),V=l.forwardRef(function(r,o){r.context;var s=C(r,W);return l.createElement("div",v({ref:o},s,{className:"flex flex-wrap"}))}),z=function(){var o=P(),s=i.useState(f.LIST),c=b(s,2),d=c[0],x=c[1],n=R(),p=n.groups,G=n.hasNextPage,L=n.fetchNextPage,m=function(){G&&L()},g=i.useCallback(function(e,t){return a("div",{className:S({"pt-4":t!==0})},void 0,a(M,{group:e,withJoinAction:!0}))},[]),h=i.useCallback(function(e){return a(y,{group:e})},[]);return a(_,{label:o.formatMessage(T.label),action:a(E,{layout:d,onSelect:function(t){return x(t)}})},void 0,d===f.LIST?a(I,{useWindowScroll:!0,data:p,itemContent:function(t,u){return g(u,t)},endReached:m}):a(N,{useWindowScroll:!0,data:p,itemContent:function(t,u){return h(u)},components:{Item:function(t){return l.createElement("div",v({},t,{className:"w-1/2 flex-none pb-4 [&:nth-last-of-type(-n+2)]:pb-0"}))},List:V},endReached:m}))};export{z as default};
