import{u as p,d as h,q as g,r as A,kU as C,a as e,a3 as y,ae as l,bY as k,F as t,X as w,o as b,y as o,H as f,d9 as v,kV as M,aH as D,kW as E}from"../index-301f2eff.js";import{S as H}from"./scrollable-list-7b66e563.js";import"./index-b308fdc3.js";import"./load-more-99add17e.js";var d=b({heading:{id:"column.admin.announcements",defaultMessage:"Announcements"},deleteConfirm:{id:"confirmations.admin.delete_announcement.confirm",defaultMessage:"Delete"},deleteHeading:{id:"confirmations.admin.delete_announcement.heading",defaultMessage:"Delete announcement"},deleteMessage:{id:"confirmations.admin.delete_announcement.message",defaultMessage:"Are you sure you want to delete the announcement?"}}),S=function(m){var n=m.announcement,s=p(),i=h(),r=function(c){return function(){i(M(c))}},u=function(c){return function(){i(D("CONFIRM",{heading:s.formatMessage(d.deleteHeading),message:s.formatMessage(d.deleteMessage),confirm:s.formatMessage(d.deleteConfirm),onConfirm:function(){return i(E(c))}}))}};return e("div",{className:"rounded-lg bg-gray-100 p-4 dark:bg-primary-800"},n.id,e(y,{space:2},void 0,e(o,{dangerouslySetInnerHTML:{__html:n.contentHtml}}),(n.starts_at||n.ends_at||n.all_day)&&e(f,{space:2,wrap:!0},void 0,n.starts_at&&e(o,{size:"sm"},void 0,e(o,{tag:"span",size:"sm",weight:"medium"},void 0,e(t,{id:"admin.announcements.starts_at",defaultMessage:"Starts at:"}))," ",e(v,{value:n.starts_at,year:"2-digit",month:"short",day:"2-digit",weekday:"short"})),n.ends_at&&e(o,{size:"sm"},void 0,e(o,{tag:"span",size:"sm",weight:"medium"},void 0,e(t,{id:"admin.announcements.ends_at",defaultMessage:"Ends at:"}))," ",e(v,{value:n.ends_at,year:"2-digit",month:"short",day:"2-digit",weekday:"short"})),n.all_day&&e(o,{weight:"medium",size:"sm"},void 0,e(t,{id:"admin.announcements.all_day",defaultMessage:"All day"}))),e(f,{justifyContent:"end",space:2},void 0,e(l,{theme:"primary",onClick:r(n)},void 0,e(t,{id:"admin.announcements.edit",defaultMessage:"Edit"})),e(l,{theme:"primary",onClick:u(n.id)},void 0,e(t,{id:"admin.announcements.delete",defaultMessage:"Delete"})))))},x=function(){var m=p(),n=h(),s=g(function(a){return a.admin_announcements.items}),i=g(function(a){return a.admin_announcements.isLoading});A.useEffect(function(){n(C())},[]);var r=function(){n(M())},u=e(t,{id:"empty_column.admin.announcements",defaultMessage:"There are no announcements yet."});return e(w,{label:m.formatMessage(d.heading)},void 0,e(y,{className:"gap-4"},void 0,e(l,{className:"sm:w-fit sm:self-end",icon:k,onClick:r,theme:"secondary",block:!0},void 0,e(t,{id:"admin.announcements.action",defaultMessage:"Create announcement"})),e(H,{scrollKey:"announcements",emptyMessage:u,itemClassName:"py-3 first:pt-0 last:pb-0",isLoading:i,showLoading:i&&!s.count()},void 0,s.map(function(a){return e(S,{announcement:a},a.id)}))))};export{x as default};
