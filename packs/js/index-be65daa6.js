import{bj as _,g as b,bk as O,bl as R,bm as E,u as y,bn as I,a as e,H as M,bo as k,y as w,aa as z,F as p,bp as F,o as C,r as H,at as j,a2 as B,T as Y,R as h,av as S,B as K,X}from"../index-dcd449aa.js";import{c as $}from"./useAccountList-03c76521.js";import{S as U}from"./scrollable-list-5b4695a9.js";import"./index-b69eb56b.js";import"./load-more-0b86834b.js";function q(){const s=_(),n=b(),{entities:a,...t}=O([E.GROUP_MUTES],()=>s.get("/api/v1/groups/mutes"),{schema:R,enabled:n.groupsMuting});return{...t,mutes:a}}var D=C({unmuteSuccess:{id:"group.unmute.success",defaultMessage:"Unmuted the group"}}),J=function(n){var a=n.group,t=n.onUnmute,i=y(),c=I(a),m=function(){c.mutate(void 0,{onSuccess:function(){t(),F.success(i.formatMessage(D.unmuteSuccess))}})};return e(M,{alignItems:"center",justifyContent:"between"},void 0,e(M,{alignItems:"center",space:3},void 0,e(k,{group:a,size:42}),e(w,{weight:"semibold",size:"sm",dangerouslySetInnerHTML:{__html:a.display_name_html},truncate:!0})),e(z,{theme:"primary",type:"button",onClick:m,size:"sm"},void 0,e(p,{id:"group.unmute.label",defaultMessage:"Unmute"})))},Q=C({heading:{id:"column.mutes",defaultMessage:"Mutes"}}),u=function(s){return s.ACCOUNTS="ACCOUNTS",s.GROUPS="GROUPS",s}(u||{}),se=function(){var n=y(),a=b(),t=$(),i=t.accounts,c=t.hasNextPage,m=t.fetchNextPage,g=t.isLoading,o=q(),G=o.mutes,A=o.isLoading,N=o.hasNextPage,x=o.fetchNextPage,L=o.fetchEntities,T=H.useState(u.ACCOUNTS),d=j(T,2),l=d[0],f=d[1],P=l===u.ACCOUNTS,v={itemClassName:"pb-4 last:pb-0",scrollKey:"mutes",emptyMessageCard:!1};return e(X,{label:n.formatMessage(Q.heading)},void 0,e(B,{space:4},void 0,a.groupsMuting&&e(Y,{items:[{text:"Users",action:function(){return f(u.ACCOUNTS)},name:u.ACCOUNTS},{text:"Groups",action:function(){return f(u.GROUPS)},name:u.GROUPS}],activeItem:l}),P?h.createElement(U,S({},v,{isLoading:g,onLoadMore:m,hasMore:c,emptyMessage:e(p,{id:"empty_column.mutes",defaultMessage:"You haven't muted any users yet."})}),i.map(function(r){return e(K,{id:r.id,actionType:"muting"},r.id)})):h.createElement(U,S({},v,{isLoading:A,onLoadMore:x,hasMore:N,emptyMessage:e(p,{id:"mutes.empty.groups",defaultMessage:"You haven't muted any groups yet."})}),G.map(function(r){return e(J,{group:r,onUnmute:L})}))))};export{se as default};
