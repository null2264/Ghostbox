import{u as w,d as I,q as l,r as i,ax as c,gW as f,a,X as b,y as v,da as A,a3 as D,o as E}from"../index-220d7bfb.js";import{S as k}from"./scrollable-list-246541a8.js";import"./index-8fdb89e6.js";import"./load-more-65d410f3.js";var h=E({heading:{id:"column.admin.moderation_log",defaultMessage:"Moderation Log"},emptyMessage:{id:"admin.moderation_log.empty_message",defaultMessage:"You have not performed any moderation actions yet. When you do, a history will be shown here."}}),q=function(){var o=w(),t=I(),r=l(function(e){return e.admin_log.index.map(function(s){return e.admin_log.items.get(String(s))})}),y=l(function(e){return e.admin_log.total-e.admin_log.index.count()>0}),M=i.useState(!0),d=c(M,2),u=d[0],n=d[1],L=i.useState(0),m=c(L,2),_=m[0],g=m[1],S=u&&r.count()===0;i.useEffect(function(){t(f()).then(function(){n(!1),g(1)}).catch(function(){})},[]);var x=function(){var s=_+1;n(!0),t(f({page:s})).then(function(){n(!1),g(s)}).catch(function(){})};return a(b,{label:o.formatMessage(h.heading)},void 0,a(k,{isLoading:u,showLoading:S,scrollKey:"moderation-log",emptyMessage:o.formatMessage(h.emptyMessage),hasMore:y,onLoadMore:x,className:"divide-y divide-solid divide-gray-200 dark:divide-gray-800"},void 0,r.map(function(e){return e&&a(N,{log:e},e.id)})))},N=function(o){var t=o.log;return a(D,{space:2,className:"p-4"},void 0,a(v,{},void 0,t.message),a(v,{theme:"muted",size:"xs"},void 0,a(A,{value:new Date(t.time*1e3),hour12:!0,year:"numeric",month:"short",day:"2-digit",hour:"numeric",minute:"2-digit"})))};export{q as default};
