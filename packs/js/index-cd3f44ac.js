import{u as _,d as R,g as T,t as x,r as s,q as l,Z as b,$ as w,a0 as u,a1 as A,a as t,a2 as $,a3 as P,y as m,F as c,L as k,X as E,o as F}from"../index-8f0cc4c0.js";import{P as H}from"./pull-to-refresh-8ff99f7a.js";import{T as L}from"./timeline-b223b860.js";import"./scroll-top-button-487438eb.js";import"./status-list-d0ff3671.js";import"./scrollable-list-19a022e9.js";import"./index-74b7a38f.js";import"./load-more-b10674f1.js";import"./status-container-89341682.js";import"./pending-status-d303e1c4.js";import"./poll-preview-6243ecc2.js";import"./noop-f8e698ed.js";var N=F({title:{id:"column.home",defaultMessage:"Home"}}),J=function(){var p=_(),a=R(),h=T(),d=x(),o=s.useRef(null),f=l(function(i){var e;return((e=i.timelines.get("home"))===null||e===void 0?void 0:e.isPartial)===!0}),n=l(function(i){var e;return(e=i.timelines.get("home"))===null||e===void 0?void 0:e.feedAccountId}),r=l(function(i){return n?i.relationships.get(n):null}),g=l(function(i){var e;return(e=i.timelines.get("home"))===null||e===void 0?void 0:e.next}),y=function(e){a(u({url:g,maxId:e,accountId:n}))},I=function(){f?o.current=setInterval(function(){a(u())},3e3):v()},v=function(){o.current&&(clearInterval(o.current),o.current=null)},M=function(){return a(u({accountId:n}))};return s.useEffect(function(){return I(),function(){v()}},[f]),s.useEffect(function(){n&&a(b([n]))},[]),s.useEffect(function(){r&&!(r!=null&&r.following)&&(a(w()),a(u({},function(){a(A())})))},[n]),t(E,{label:p.formatMessage(N.title),transparent:!0,withHeader:!1},void 0,t(H,{onRefresh:M},void 0,t($,{variant:"rounded",pad:!1,className:"px-6"},void 0,t(L,{scrollKey:"home_timeline",onLoadMore:y,timelineId:"home",divideType:"border",showAds:!0,emptyMessage:t(P,{space:1},void 0,t(m,{size:"xl",weight:"medium",align:"center"},void 0,t(c,{id:"empty_column.home.title",defaultMessage:"You're not following anyone yet"})),t(m,{theme:"muted",align:"center"},void 0,t(c,{id:"empty_column.home.subtitle",defaultMessage:"{siteTitle} gets more interesting once you follow other users.",values:{siteTitle:d.title}})),h.federating&&t(m,{theme:"muted",align:"center"},void 0,t(c,{id:"empty_column.home",defaultMessage:"Or you can visit {public} to get started and meet other users.",values:{public:t(k,{to:"/timeline/local",className:"text-primary-600 hover:underline dark:text-primary-400"},void 0,t(c,{id:"empty_column.home.local_tab",defaultMessage:"the {site_title} tab",values:{site_title:d.title}}))}})))}))))};export{J as default};
