import{u as k,d as $,b8 as x,aW as C,q as l,b9 as E,r as c,Q as O,ba as I,bb as R,bc as U,bd as p,be as _,aX as D,a as s,F as v,X as g,aD as K,o as W}from"../index-851c1ca9.js";import{S as X}from"./status-list-e19cc00d.js";import"./scrollable-list-8dc2d15a.js";import"./index-4bff7452.js";import"./load-more-80d9b775.js";import"./status-container-02d49abd.js";import"./pending-status-3d425eee.js";import"./poll-preview-c4159b92.js";import"./noop-e59e95dd.js";var q=W({heading:{id:"column.favourited_statuses",defaultMessage:"Liked posts"}}),J=function(h){var n,i=h.params,b=k(),a=$(),y=x(),r=y.account,f=C(i==null?void 0:i.username,{withRelationship:!0}),e=f.account,A=f.isUnavailable,m=(i==null?void 0:i.username)||"",o=m.toLowerCase()===(r==null||(n=r.acct)===null||n===void 0?void 0:n.toLowerCase()),d=o?"favourites":"favourites:".concat(e==null?void 0:e.id),w=l(function(u){var t;return((t=u.status_lists.get(d))===null||t===void 0?void 0:t.items)||E()}),M=l(function(u){var t;return((t=u.status_lists.get(d))===null||t===void 0?void 0:t.isLoading)===!0}),L=l(function(u){var t;return!!((t=u.status_lists.get(d))!==null&&t!==void 0&&t.next)}),F=c.useCallback(O(function(){o?a(I()):e&&a(R(e.id))},300,{leading:!0}),[e==null?void 0:e.id]);if(c.useEffect(function(){o?a(U()):e?(a(p(e.id)),a(_(e.id))):a(D(m))},[]),c.useEffect(function(){e&&!o&&(a(p(e.id)),a(_(e.id)))},[e==null?void 0:e.id]),A)return s(g,{},void 0,s("div",{className:"empty-column-indicator"},void 0,s(v,{id:"empty_column.account_unavailable",defaultMessage:"Profile unavailable"})));if(!e)return s(K,{});var S=o?s(v,{id:"empty_column.favourited_statuses",defaultMessage:"You don't have any liked posts yet. When you like one, it will show up here."}):s(v,{id:"empty_column.account_favourited_statuses",defaultMessage:"This user doesn't have any liked posts yet."});return s(g,{label:b.formatMessage(q.heading),withHeader:!1,transparent:!0},void 0,s(X,{statusIds:w,scrollKey:"favourited_statuses",hasMore:L,isLoading:M,onLoadMore:F,emptyMessage:S}))};export{J as default};
