import{a4 as y,u as M,d as T,t as E,f as w,q as B,r as P,a5 as r,a as e,F as s,a6 as k,L as R,X as I,o as L,a7 as u}from"../index-851c1ca9.js";import{A as F}from"./accordion-5d9bdf48.js";import{P as S}from"./pull-to-refresh-b7f6e159.js";import{P as A}from"./pinned-hosts-picker-07d913f0.js";import{T as $}from"./timeline-37ddfbcb.js";import"./dots-vertical-68cbc8e2.js";import"./scroll-top-button-b40cec8a.js";import"./status-list-e19cc00d.js";import"./scrollable-list-8dc2d15a.js";import"./index-4bff7452.js";import"./load-more-80d9b775.js";import"./status-container-02d49abd.js";import"./pending-status-3d425eee.js";import"./poll-preview-c4159b92.js";import"./noop-e59e95dd.js";function C({onlyMedia:n}={}){return y(`public${n?":media":""}`,`public${n?":media":""}`)}var c=L({title:{id:"column.public",defaultMessage:"Fediverse timeline"},dismiss:{id:"fediverse_tab.explanation_box.dismiss",defaultMessage:"Don't show again"}}),V=function(){var m=M(),i=T(),d=E(),l=w(),a=!!l.getIn(["public","other","onlyMedia"],!1),f=B(function(o){var t;return(t=o.timelines.get("public"))===null||t===void 0?void 0:t.next}),p="public",v=l.get("explanationBox"),h=l.get("showExplanationBox"),x=function(){i(u(["showExplanationBox"],!1))},g=function(t){i(u(["explanationBox"],t))},b=function(t){i(r({url:f,maxId:t,onlyMedia:a}))},_=function(){return i(r({onlyMedia:a}))};return C({onlyMedia:a}),P.useEffect(function(){i(r({onlyMedia:a}))},[a]),e(I,{className:"-mt-3 sm:mt-0",label:m.formatMessage(c.title),transparent:!0},void 0,e(A,{}),h&&e("div",{className:"mb-4"},void 0,e(F,{headline:e(s,{id:"fediverse_tab.explanation_box.title",defaultMessage:"What is the Fediverse?"}),action:x,actionIcon:k,actionLabel:m.formatMessage(c.dismiss),expanded:v,onToggle:g},void 0,e(s,{id:"fediverse_tab.explanation_box.explanation",defaultMessage:`{site_title} is part of the Fediverse, a social network made up of thousands of independent social media sites (aka "servers"). The posts you see here are from 3rd-party servers. You have the freedom to engage with them, or to block any server you don't like. Pay attention to the full username after the second @ symbol to know which server a post is from. To see only {site_title} posts, visit {local}.`,values:{site_title:d.title,local:e(R,{to:"/timeline/local"},void 0,e(s,{id:"empty_column.home.local_tab",defaultMessage:"the {site_title} tab",values:{site_title:d.title}}))}}))),e(S,{onRefresh:_},void 0,e($,{scrollKey:"".concat(p,"_timeline"),timelineId:"".concat(p).concat(a?":media":""),prefix:"home",onLoadMore:b,emptyMessage:e(s,{id:"empty_column.public",defaultMessage:"There is nothing here! Write something publicly, or manually follow users from other servers to fill it up"}),divideType:"space"})))};export{V as default};
