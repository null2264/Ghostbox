import{u as V,d as W,r as $,hQ as K,g as Y,q as g,b6 as Z,N as j,hR as J,R as u,ax as Q,hS as U,a as e,W as p,aK as X,a6 as ee,a3 as x,L as ae,b5 as P,et as f,hT as te,n as se,hU as oe,dc as ie,aJ as re,K as ne,hV as le,hW as ce,hX as ue,F as _,hY as de,fV as q,hZ as ge,fZ as A,fW as fe,H as N,y as w,A as M,cS as ve,hL as S,bY as me,o as ke,h_ as _e,e_ as be,h$ as he}from"../index-220d7bfb.js";import{v as pe}from"./hash-746ab8b6.js";import{P as xe}from"./profile-stats-207b1443.js";const we="/packs/assets/filter-ea3a7ceb.svg";var o=ke({followers:{id:"account.followers",defaultMessage:"Followers"},follows:{id:"account.follows",defaultMessage:"Follows"},profile:{id:"account.profile",defaultMessage:"Profile"},preferences:{id:"navigation_bar.preferences",defaultMessage:"Preferences"},blocks:{id:"navigation_bar.blocks",defaultMessage:"Blocked users"},domainBlocks:{id:"navigation_bar.domain_blocks",defaultMessage:"Hidden domains"},mutes:{id:"navigation_bar.mutes",defaultMessage:"Muted users"},filters:{id:"navigation_bar.filters",defaultMessage:"Muted words"},followedTags:{id:"navigation_bar.followed_tags",defaultMessage:"Followed hashtags"},soapboxConfig:{id:"navigation_bar.soapbox_config",defaultMessage:"Soapbox config"},accountMigration:{id:"navigation_bar.account_migration",defaultMessage:"Move account"},accountAliases:{id:"navigation_bar.account_aliases",defaultMessage:"Account aliases"},logout:{id:"navigation_bar.logout",defaultMessage:"Logout"},bookmarks:{id:"column.bookmarks",defaultMessage:"Bookmarks"},lists:{id:"column.lists",defaultMessage:"Lists"},groups:{id:"column.groups",defaultMessage:"Groups"},events:{id:"column.events",defaultMessage:"Events"},invites:{id:"navigation_bar.invites",defaultMessage:"Invites"},developers:{id:"navigation.developers",defaultMessage:"Developers"},addAccount:{id:"profile_dropdown.add_account",defaultMessage:"Add an existing account"},followRequests:{id:"navigation_bar.follow_requests",defaultMessage:"Follow requests"},close:{id:"lightbox.close",defaultMessage:"Close"}}),i=function(a){var c=a.href,v=a.to,r=a.icon,b=a.text,m=a.onClick,n=e(N,{space:2,alignItems:"center"},void 0,e("div",{className:"relative inline-flex rounded-full bg-primary-50 p-2 dark:bg-gray-800"},void 0,e(M,{src:r,className:"h-5 w-5 text-primary-500"})),e(w,{tag:"span",weight:"medium",theme:"inherit"},void 0,b));return v?e(S,{className:"group rounded-full text-gray-900 hover:bg-gray-50 dark:text-gray-100 dark:hover:bg-gray-800",to:v,onClick:m},void 0,n):e("a",{className:"group rounded-full text-gray-900 hover:bg-gray-50 dark:text-gray-100 dark:hover:bg-gray-800",href:c,target:"_blank",onClick:m},void 0,n)},Re=function(){var a=V(),c=W(),v=$.useCallback(K(),[]),r=Y(),b=g(function(s){return s.me}),m=Z(b||void 0),n=m.account,F=g(function(s){return v(s)}),k=g(function(s){return s.sidebar.sidebarOpen}),O=g(function(s){return j(s)}),T=g(function(s){return s.user_lists.follow_requests.items.count()}),D=J(),H=u.useRef(null),B=u.useState(!1),C=Q(B,2),y=C[0],R=C[1],t=function(){return c(_e())},d=function(){R(!1),t()},E=function(l){return function(h){h.preventDefault(),c(he(l.id))}},I=function(l){l.preventDefault(),c(be())},z=function(l){l.preventDefault(),R(function(h){return!h})},G=function(l){return e("a",{href:"#",className:"block py-2",onClick:E(l)},l.id,e("div",{className:"pointer-events-none"},void 0,e(P,{account:l,showProfileHoverCard:!1,withRelationship:!1,withLinkToProfile:!1})))};return u.useEffect(function(){c(U())},[]),n?e("div",{"aria-expanded":k,className:p({"z-[1000]":k,hidden:!k})},void 0,e("div",{className:"fixed inset-0 bg-gray-500/90 dark:bg-gray-700/90",role:"button",onClick:d}),e("div",{className:"fixed inset-0 z-[1000] flex"},void 0,e("div",{className:p({"flex flex-col flex-1 bg-white dark:bg-primary-900 -translate-x-full rtl:translate-x-full w-full max-w-xs":!0,"!translate-x-0":k})},void 0,u.createElement(X,{title:a.formatMessage(o.close),onClick:d,src:ee,ref:H,iconClassName:"h-6 w-6",className:"absolute right-0 top-0 -mr-11 mt-2 text-gray-600 hover:text-gray-600 dark:text-gray-400 dark:hover:text-gray-300"}),e("div",{className:"relative h-full w-full overflow-auto overflow-y-scroll"},void 0,e("div",{className:"p-4"},void 0,e(x,{space:4},void 0,e(ae,{to:"/@".concat(n.acct),onClick:t},void 0,e(P,{account:n,showProfileHoverCard:!1,withLinkToProfile:!1})),e(xe,{account:n,onClickHandler:d}),e(x,{space:4},void 0,e(f,{}),e(i,{to:"/@".concat(n.acct),icon:te,text:a.formatMessage(o.profile),onClick:t}),(n.locked||T>0)&&e(i,{to:"/follow_requests",icon:se,text:a.formatMessage(o.followRequests),onClick:t}),r.bookmarks&&e(i,{to:"/bookmarks",icon:oe,text:a.formatMessage(o.bookmarks),onClick:t}),r.groups&&e(i,{to:D,icon:ie,text:a.formatMessage(o.groups),onClick:t}),r.lists&&e(i,{to:"/lists",icon:re,text:a.formatMessage(o.lists),onClick:t}),r.events&&e(i,{to:"/events",icon:ne,text:a.formatMessage(o.events),onClick:t}),O.get("isDeveloper")&&e(i,{to:"/developers",icon:le,text:a.formatMessage(o.developers),onClick:t}),r.publicTimeline&&u.createElement(u.Fragment,null,e(f,{}),e(i,{to:"/timeline/local",icon:r.federating?ce:ue,text:r.federating?e(_,{id:"tabs_bar.local",defaultMessage:"Local"}):e(_,{id:"tabs_bar.all",defaultMessage:"All"}),onClick:t}),r.federating&&e(i,{to:"/timeline/fediverse",icon:de,text:e(_,{id:"tabs_bar.fediverse",defaultMessage:"Fediverse"}),onClick:t})),e(f,{}),e(i,{to:"/blocks",icon:q,text:a.formatMessage(o.blocks),onClick:t}),e(i,{to:"/mutes",icon:ge,text:a.formatMessage(o.mutes),onClick:t}),e(i,{to:"/settings/preferences",icon:A,text:a.formatMessage(o.preferences),onClick:t}),r.federating&&e(i,{to:"/domain_blocks",icon:q,text:a.formatMessage(o.domainBlocks),onClick:t}),(r.filters||r.filtersV2)&&e(i,{to:"/filters",icon:we,text:a.formatMessage(o.filters),onClick:t}),r.followedHashtagsList&&e(i,{to:"/followed_tags",icon:pe,text:a.formatMessage(o.followedTags),onClick:t}),n.admin&&e(i,{to:"/ghostbox/admin/config",icon:A,text:a.formatMessage(o.soapboxConfig),onClick:t}),e(f,{}),e(i,{to:"/logout",icon:fe,text:a.formatMessage(o.logout),onClick:I}),e(f,{}),e(x,{space:4},void 0,e("button",{type:"button",onClick:z,className:"py-1"},void 0,e(N,{alignItems:"center",justifyContent:"between"},void 0,e(w,{tag:"span"},void 0,e(_,{id:"profile_dropdown.switch_account",defaultMessage:"Switch accounts"})),e(M,{src:ve,className:p("h-4 w-4 text-gray-900 transition-transform dark:text-gray-100",{"rotate-180":y})}))),y&&e("div",{className:"border-t-2 border-solid border-gray-100 dark:border-gray-800"},void 0,F.map(function(s){return G(s)}),e(S,{className:"flex items-center space-x-1 py-2",to:"/login/add",onClick:d},void 0,e(M,{className:"h-4 w-4 text-primary-500",src:me}),e(w,{size:"sm",weight:"medium"},void 0,a.formatMessage(o.addAccount)))))))))),e("div",{"aria-hidden":!0,className:"w-14 shrink-0",onClick:d}))):null};export{Re as default};
