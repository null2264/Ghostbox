import{u as k,d as $,bb as x,aZ as C,q as l,a8 as E,r as c,Q as O,bc as I,bd as R,be as U,bf as p,bg as _,a_ as K,a as s,F as v,X as g,aG as q,o as B}from"../index-b58fa9cd.js";import{S as D}from"./status-list-0d309f8f.js";import"./scrollable-list-c29c6cf0.js";import"./index-c79b30c3.js";import"./load-more-f930702e.js";import"./status-container-18ec645f.js";import"./pending-status-c1f8e960.js";import"./poll-preview-338f4a08.js";import"./noop-2bdf0eb3.js";var G=B({heading:{id:"column.favourited_statuses",defaultMessage:"Liked posts"}}),z=function(h){var n,i=h.params,b=k(),a=$(),y=x(),r=y.account,f=C(i==null?void 0:i.username,{withRelationship:!0}),e=f.account,A=f.isUnavailable,m=(i==null?void 0:i.username)||"",o=m.toLowerCase()===(r==null||(n=r.acct)===null||n===void 0?void 0:n.toLowerCase()),d=o?"favourites":"favourites:".concat(e==null?void 0:e.id),w=l(function(u){var t;return((t=u.status_lists.get(d))===null||t===void 0?void 0:t.items)||E()}),M=l(function(u){var t;return((t=u.status_lists.get(d))===null||t===void 0?void 0:t.isLoading)===!0}),L=l(function(u){var t;return!!((t=u.status_lists.get(d))!==null&&t!==void 0&&t.next)}),F=c.useCallback(O(function(){o?a(I()):e&&a(R(e.id))},300,{leading:!0}),[e==null?void 0:e.id]);if(c.useEffect(function(){o?a(U()):e?(a(p(e.id)),a(_(e.id))):a(K(m))},[]),c.useEffect(function(){e&&!o&&(a(p(e.id)),a(_(e.id)))},[e==null?void 0:e.id]),A)return s(g,{},void 0,s("div",{className:"empty-column-indicator"},void 0,s(v,{id:"empty_column.account_unavailable",defaultMessage:"Profile unavailable"})));if(!e)return s(q,{});var S=o?s(v,{id:"empty_column.favourited_statuses",defaultMessage:"You don't have any liked posts yet. When you like one, it will show up here."}):s(v,{id:"empty_column.account_favourited_statuses",defaultMessage:"This user doesn't have any liked posts yet."});return s(g,{label:b.formatMessage(G.heading),withHeader:!1,transparent:!0},void 0,s(D,{statusIds:w,scrollKey:"favourited_statuses",hasMore:L,isLoading:M,onLoadMore:F,emptyMessage:S}))};export{z as default};
