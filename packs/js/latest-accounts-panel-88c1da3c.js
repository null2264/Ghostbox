import{u as I,a7 as M,d as S,q as i,am as k,r as c,at as E,gI as w,hn as C,hP as D,a as u,B as L,o as P}from"../index-0dfc7288.js";import{W as R}from"./widget-ef7f110e.js";import"./arrow-right-b75290c7.js";var l=P({title:{id:"admin.latest_accounts_panel.title",defaultMessage:"Latest Accounts"},expand:{id:"admin.latest_accounts_panel.more",defaultMessage:"Click to see {count, plural, one {# account} other {# accounts}}"}}),q=function(d){var n=d.limit,a=n===void 0?5:n,o=I(),f=M(),m=S(),e=i(function(t){return t.admin.get("latestUsers").take(a)}),p=i(function(t){return e.every(function(y){var s;return!!((s=k(t,y))!==null&&s!==void 0&&s.created_at)})}),v=c.useState(e.size),r=E(v,2),h=r[0],A=r[1];c.useEffect(function(){m(w(["local","active"],1,null,a)).then(function(t){A(t.count)}).catch(function(){})},[]);var _=e.sort(C).reverse(),g=p&&D(e,_);if(!g||!e||e.isEmpty())return null;var x=function(){f.push("/ghostbox/admin/users")};return u(R,{title:o.formatMessage(l.title),onActionClick:x,actionTitle:o.formatMessage(l.expand,{count:h})},void 0,e.take(a).map(function(t){return u(L,{id:t,withRelationship:!1,withDate:!0},t)}))};export{q as default};
