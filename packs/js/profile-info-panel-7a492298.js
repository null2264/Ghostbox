import{cI as P,q as y,O as R,a as e,W as L,c9 as M,H as s,d as $,g as D,a8 as H,r as T,hB as U,b5 as g,y as m,R as k,L as q,cA as E,gS as C,aH as O,a3 as h,hC as w,hu as W,A as _,dd as G,hD as j,hE as J,hF as V,hG as K,bO as Q,cg as X,hH as Y,cd as Z}from"../index-bf295626.js";import{v as ee}from"./balloon-551f6642.js";import"./web.url.constructor-c7d2eac5.js";import{u as ae}from"./usePatronUser-eb167f1c.js";import{P as te}from"./profile-field-5b0026d9.js";import{P as re}from"./profile-stats-ebf102e4.js";import"./object-assign-6e6dc9b3.js";import"./use_localization-cd1dd977.js";var ie=P(),oe=function(c){var i=c.accountIds,n=c.limit,a=n===void 0?3:n,p=y(function(o){return R(i.slice(0,a).map(function(t){return ie(o,t)}).filter(function(t){return t}))});return e(s,{className:"relative","aria-hidden":!0},void 0,p.map(function(o,t){return e("div",{className:L("relative",{"-ml-3":t!==0}),style:{zIndex:a-t}},o.id,e(M,{className:"ring-1 ring-white dark:ring-primary-900",src:o.avatar,size:20}))}))},se=P(),ne=function(c){var i=c.account,n=$(),a=y(function(d){return d.me}),p=D(),o=y(function(d){var r;return((r=d.user_lists.familiar_followers.get(i.id))===null||r===void 0?void 0:r.items)||H()}),t=y(function(d){return o.slice(0,2).map(function(r){return se(d,r)})});T.useEffect(function(){a&&p.familiarFollowers&&n(U(i.id))},[i.id]);var b=function(){n(O("FAMILIAR_FOLLOWERS",{accountId:i.id}))};if(o.size===0)return null;var F=function(){return k.createElement(k.Fragment,null,t.map(function(r){return!!r&&e(C,{accountId:r.id,inline:!0},void 0,e(q,{className:"mention inline-block",to:"/@".concat(r.acct)},void 0,e(s,{space:1,alignItems:"center",grow:!0},void 0,e(m,{size:"sm",theme:"primary",truncate:!0,dangerouslySetInnerHTML:{__html:r.display_name_html}}),r.verified&&e(E,{}))))}),o.size>2&&e(g,{id:"account-Status--familiar-followers-more",vars:{count:o.size-t.size}},void 0,e("span",{className:"cursor-pointer hover:underline",role:"presentation",onClick:b},void 0,"0 others you follow")))};return e(s,{space:2,alignItems:"center"},void 0,e(oe,{accountIds:o}),e(g,{id:"account-Status--familiar-followers",elems:{accounts:F()}},void 0,e(m,{theme:"muted",size:"sm"},void 0,"Followed by ","<accounts></accounts>")))},le=function(c){try{var i=new URL(c);return["http:","https:"].includes(i.protocol)}catch{return!1}},he=function(c){var i,n,a=c.account,p=c.username,o=ae(a==null?void 0:a.url),t=o.patronUser,b=y(function(v){return v.me}),F=(a==null?void 0:a.id)===b,d=function(){return a!=null&&a.admin?e(w,{slug:"admin",title:"Admin"},"staff"):a!=null&&a.moderator?e(w,{slug:"moderator",title:"Moderator"},"staff"):null},r=function(){var u=a?X(a):[];return u.map(function(l){return e(w,{slug:l,title:Y(Z(l))},l)})},z=function(){var u=r(),l=d(),x=(t==null?void 0:t.is_patron)===!0,f=[];return l&&f.push(l),x&&f.push(e(w,{slug:"patron",title:"Patron"},"patron")),[].concat(f,Q(u))},A=function(){var u,l=a==null||(u=a.pleroma)===null||u===void 0?void 0:u.birthday;if(!l)return null;var x=new Date(l),f=new Date,N=x.getDate()===f.getDate()&&x.getMonth()===f.getMonth();return e(s,{alignItems:"center",space:.5},void 0,e(_,{src:ee,className:"h-4 w-4 text-gray-800 dark:text-gray-200"}),e(g,{id:"account-Birthday--"+(N?"celebration":"date"),vars:{date:l}},void 0,e(m,{size:"sm"},void 0,"Birthday")))};if(!a)return e("div",{className:"mt-6 min-w-0 flex-1 sm:px-2"},void 0,e(h,{space:2},void 0,e(h,{},void 0,e(s,{space:1,alignItems:"center"},void 0,e(m,{size:"sm",theme:"muted",direction:"ltr",truncate:!0},void 0,"@",p)))));var B=(i=(n=a.pleroma)===null||n===void 0?void 0:n.deactivated)!==null&&i!==void 0?i:!1,S=z();return e("div",{className:"mt-6 min-w-0 flex-1 sm:px-2"},void 0,e(h,{space:2},void 0,e(h,{},void 0,e(s,{space:1,alignItems:"center"},void 0,B?e(g,{id:"account-Status--deactivated"},void 0,e(m,{size:"lg",weight:"bold",truncate:!0},void 0,"Deactivated")):e(m,{size:"lg",weight:"bold",dangerouslySetInnerHTML:{__html:a.display_name_html},truncate:!0}),a.bot&&e(w,{slug:"bot",title:"Bot"}),S.length>0&&e(s,{space:1,alignItems:"center"},void 0,S)),e(s,{alignItems:"center",space:.5},void 0,e(W,{account:a}),a.locked&&e(g,{id:"account-Status--locked",attrs:{alt:!0}},void 0,e(_,{src:G,alt:"This account privacy status is set to locked. The owner manually reviews who can follow them.",className:"h-4 w-4 text-gray-600"})))),e(re,{account:a}),a.note.length>0&&e(j,{size:"sm",dangerouslySetInnerHTML:{__html:a.note_emojified},truncate:!0}),e("div",{className:"flex flex-col items-start gap-2 md:flex-row md:flex-wrap md:items-center"},void 0,a.local&&e(s,{alignItems:"center",space:.5},void 0,e(_,{src:J,className:"h-4 w-4 text-gray-800 dark:text-gray-200"}),e(g,{id:"account-Status--member-since",vars:{date:new Date(a.created_at)}},void 0,e(m,{size:"sm"},void 0,"Joined ",a.created_at))),a.location?e(s,{alignItems:"center",space:.5},void 0,e(_,{src:V,className:"h-4 w-4 text-gray-800 dark:text-gray-200"}),e(m,{size:"sm"},void 0,a.location)):null,a.website?e(s,{alignItems:"center",space:.5},void 0,e(_,{src:K,className:"h-4 w-4 text-gray-800 dark:text-gray-200"}),e("div",{className:"max-w-[300px]"},void 0,e(m,{size:"sm",truncate:!0},void 0,le(a.website)?e("a",{className:"text-primary-600 hover:underline dark:text-accent-blue",href:a.website,target:"_blank"},void 0,a.website):a.website))):null,A()),F?null:e(ne,{account:a})),a.fields.length>0&&e(h,{space:2,className:"mt-4 xl:hidden"},void 0,a.fields.map(function(v,u){return e(te,{field:v},u)})))};export{he as default};
