import{aw as C,d as k,r as o,aX as M,q as a,a8 as u,Q as d,co as c,R as s,a as m,cp as E,az as P,cq as R}from"../index-87999916.js";import{S as A}from"./scroll-top-button-88740948.js";import{S as D}from"./status-list-da4d5258.js";var F=["timelineId","onLoadMore","prefix"],z=function(n){var i=n.timelineId,l=n.onLoadMore,v=n.prefix,p=C(n,F),r=k(),f=o.useCallback(M(),[]),g=a(function(t){var e;return(((e=t.timelines.get(i))===null||e===void 0?void 0:e.items)||u()).last()}),S=a(function(t){return f(t,{type:i,prefix:v})}),T=a(function(t){return(t.timelines.get(i)||{isLoading:!0}).isLoading===!0}),I=a(function(t){var e;return(((e=t.timelines.get(i))===null||e===void 0?void 0:e.isPartial)||!1)===!0}),$=a(function(t){var e;return((e=t.timelines.get(i))===null||e===void 0?void 0:e.hasMore)===!0}),h=a(function(t){var e;return((e=t.timelines.get(i))===null||e===void 0?void 0:e.totalQueuedItemsCount)||0}),q=a(function(t){var e;return((e=t.timelines.get(i))===null||e===void 0?void 0:e.queuedItems)||u()}),x=a(function(t){var e;return!!((e=t.timelines.get(i))!==null&&e!==void 0&&e.feedAccountId)}),L=function(){x||r(R(i,l))},_=o.useCallback(d(function(){r(c(i,!0))},100),[i]),b=o.useCallback(d(function(){r(c(i,!1))},100),[i]);return s.createElement(s.Fragment,null,m(E,{},void 0,m(A,{onClick:L,count:h,timelineId:i,queuedItems:q,type:"status"},"timeline-queue-button-header")),s.createElement(D,P({timelineId:i,onScrollToTop:_,onScroll:b,lastStatusId:g,statusIds:S,isLoading:T,isPartial:I,hasMore:$,onLoadMore:l},p)))};export{z as T};
