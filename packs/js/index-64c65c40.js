import{u as k,d as $,bc as x,aZ as C,q as l,a8 as E,r as c,Q as O,bd as I,be as R,bf as U,bg as p,bh as _,a_ as K,a as s,F as v,X as g,aG as q,o as B}from"../index-5c94650a.js";import{S as D}from"./status-list-63142f30.js";import"./scrollable-list-f62a1834.js";import"./index-0edf885d.js";import"./load-more-06cdc3f1.js";import"./status-container-04550e4a.js";import"./pending-status-d84fb4a9.js";import"./poll-preview-be08ea43.js";import"./noop-de1d2a7a.js";var G=B({heading:{id:"column.favourited_statuses",defaultMessage:"Liked posts"}}),z=function(h){var n,i=h.params,b=k(),a=$(),y=x(),r=y.account,f=C(i==null?void 0:i.username,{withRelationship:!0}),e=f.account,A=f.isUnavailable,m=(i==null?void 0:i.username)||"",o=m.toLowerCase()===(r==null||(n=r.acct)===null||n===void 0?void 0:n.toLowerCase()),d=o?"favourites":"favourites:".concat(e==null?void 0:e.id),w=l(function(u){var t;return((t=u.status_lists.get(d))===null||t===void 0?void 0:t.items)||E()}),M=l(function(u){var t;return((t=u.status_lists.get(d))===null||t===void 0?void 0:t.isLoading)===!0}),L=l(function(u){var t;return!!((t=u.status_lists.get(d))!==null&&t!==void 0&&t.next)}),F=c.useCallback(O(function(){o?a(I()):e&&a(R(e.id))},300,{leading:!0}),[e==null?void 0:e.id]);if(c.useEffect(function(){o?a(U()):e?(a(p(e.id)),a(_(e.id))):a(K(m))},[]),c.useEffect(function(){e&&!o&&(a(p(e.id)),a(_(e.id)))},[e==null?void 0:e.id]),A)return s(g,{},void 0,s("div",{className:"empty-column-indicator"},void 0,s(v,{id:"empty_column.account_unavailable",defaultMessage:"Profile unavailable"})));if(!e)return s(q,{});var S=o?s(v,{id:"empty_column.favourited_statuses",defaultMessage:"You don't have any liked posts yet. When you like one, it will show up here."}):s(v,{id:"empty_column.account_favourited_statuses",defaultMessage:"This user doesn't have any liked posts yet."});return s(g,{label:b.formatMessage(G.heading),withHeader:!1,transparent:!0},void 0,s(D,{statusIds:w,scrollKey:"favourited_statuses",hasMore:L,isLoading:M,onLoadMore:F,emptyMessage:S}))};export{z as default};
