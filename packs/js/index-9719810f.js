import{a4 as d,u as f,d as y,f as v,q as g,r as h,af as o,a as i,F as M,X as T,o as x}from"../index-1d07a6e7.js";import{P as R}from"./pull-to-refresh-b7e93e22.js";import{T as C}from"./timeline-c43b1249.js";import"./scroll-top-button-cd5cc56a.js";import"./status-list-69511347.js";import"./scrollable-list-6b6b8dae.js";import"./index-4dda75a9.js";import"./load-more-5b601834.js";import"./status-container-4c78e8ba.js";import"./pending-status-70fef3c6.js";import"./poll-preview-0863c43f.js";import"./noop-b7f3716b.js";function b({onlyMedia:a}={}){return d(`community${a?":media":""}`,`public:local${a?":media":""}`)}var I=x({title:{id:"column.community",defaultMessage:"Local timeline"}}),N=function(){var s=f(),m=y(),l=v(),e=!!l.getIn(["community","other","onlyMedia"],!1),u=g(function(n){var t;return(t=n.timelines.get("community"))===null||t===void 0?void 0:t.next}),r="community",c=function(t){m(o({url:u,maxId:t,onlyMedia:e}))},p=function(){return m(o({onlyMedia:e}))};return b({onlyMedia:e}),h.useEffect(function(){m(o({onlyMedia:e}))},[e]),i(T,{className:"-mt-3 sm:mt-0",label:s.formatMessage(I.title),transparent:!0},void 0,i(R,{onRefresh:p},void 0,i(C,{scrollKey:"".concat(r,"_timeline"),timelineId:"".concat(r).concat(e?":media":""),prefix:"home",onLoadMore:c,emptyMessage:i(M,{id:"empty_column.community",defaultMessage:"The local timeline is empty. Write something publicly to get the ball rolling!"}),divideType:"space"})))};export{N as default};
