import{ks as y,bo as R,kH as C,d as H,hO as S,a9 as E,u as O,e9 as D,kw as I,a as e,aF as q,X as p,kI as w,b2 as L,R as o,eL as u,cy as d,aj as l,ak as r,kJ as T,y as F,o as P,aH as A,aL as B,br as N}from"../index-7b6dea3f.js";function x(){const{deleteEntity:g,isSubmitting:n}=y([R.GROUPS],{delete:"/api/v1/groups/:id"});return{mutate:g,isSubmitting:n}}var t=P({heading:{id:"column.manage_group",defaultMessage:"Manage Group"},editGroup:{id:"manage_group.edit_group",defaultMessage:"Edit Group"},pendingRequests:{id:"manage_group.pending_requests",defaultMessage:"Pending Requests"},blockedMembers:{id:"manage_group.blocked_members",defaultMessage:"Banned Members"},deleteGroup:{id:"manage_group.delete_group",defaultMessage:"Delete Group"},deleteConfirm:{id:"confirmations.delete_group.confirm",defaultMessage:"Delete"},deleteHeading:{id:"confirmations.delete_group.heading",defaultMessage:"Delete Group"},deleteMessage:{id:"confirmations.delete_group.message",defaultMessage:"Are you sure you want to delete this group? This is a permanent action that cannot be undone."},members:{id:"group.tabs.members",defaultMessage:"Members"},other:{id:"settings.other",defaultMessage:"Other Options"},deleteSuccess:{id:"group.delete.success",defaultMessage:"Group successfully deleted"}}),X=function(n){var i,c=n.params,f=c.groupId,M=C(),v=H(),b=S(),h=E(),a=O(),G=D(f),s=G.group,_=x(),m=(s==null||(i=s.relationship)===null||i===void 0?void 0:i.role)===I.OWNER;if(!s||!s.relationship)return e(p,{label:a.formatMessage(t.heading)},void 0,e(q,{}));if(!s.relationship.role||!["owner","admin","moderator"].includes(s.relationship.role))return e(w,{});var k=function(){return v(A("CONFIRM",{icon:B,heading:a.formatMessage(t.deleteHeading),message:a.formatMessage(t.deleteMessage),confirm:a.formatMessage(t.deleteConfirm),onConfirm:function(){_.mutate(s.id,{onSuccess:function(){N.success(a.formatMessage(t.deleteSuccess)),h.push(b)}})}}))};return e(p,{label:a.formatMessage(t.heading),backHref:"/group/".concat(s.slug)},void 0,e(L,{className:"space-y-4"},void 0,m&&o.createElement(o.Fragment,null,e(u,{},void 0,e(d,{title:a.formatMessage(t.editGroup)})),e(l,{},void 0,e(r,{label:a.formatMessage(t.editGroup),to:"/group/".concat(s.slug,"/manage/edit")},void 0,e("span",{dangerouslySetInnerHTML:{__html:s.display_name_html}})))),e(u,{},void 0,e(d,{title:a.formatMessage(t.members)})),e(l,{},void 0,M.software!==T&&e(r,{label:a.formatMessage(t.pendingRequests),to:"/group/".concat(s.slug,"/manage/requests")}),e(r,{label:a.formatMessage(t.blockedMembers),to:"/group/".concat(s.slug,"/manage/blocks")})),m&&o.createElement(o.Fragment,null,e(u,{},void 0,e(d,{title:a.formatMessage(t.other)})),e(l,{},void 0,e(r,{label:e(F,{theme:"danger"},void 0,a.formatMessage(t.deleteGroup)),onClick:k})))))};export{X as default};
