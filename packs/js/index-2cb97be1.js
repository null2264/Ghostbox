import{g as P,ko as x,R as f,a as e,er as k,d as w,u as L,q as E,r as T,at as I,kp as F,L as A,bG as D,aa as v,da as B,F as n,a2 as u,o as O,aD as q,y as G}from"../index-f3242f40.js";import{u as z}from"./useDebounce-d3b38dc1.js";import{G as U}from"./group-card-ca819d91.js";import{S as V}from"./scrollable-list-abd7c45e.js";import{h as j,P as K}from"./permissions-2149f5e2.js";import{P as Y}from"./placeholder-group-card-366d357d.js";import{P as H}from"./pending-items-row-4c5bf28f.js";import{T as J,a as Q}from"./tab-bar-bcbbf871.js";import"./group-header-image-834a720c.js";import"./index-436c1652.js";import"./load-more-d2d58aa7.js";const W=function(){var i=P(),s=x(),r=s.groups,t=s.isFetching;return!i.groupsPending||t||r.length===0?null:f.createElement(f.Fragment,null,e(H,{to:"/groups/pending-requests",count:r.length,size:"lg"}),e(k,{}))};var X=O({placeholder:{id:"groups.search.placeholder",defaultMessage:"Search My Groups"}}),le=function(){var s=z,r=w(),t=P(),M=L(),l=E(function(a){return j(a,K)}),C=T.useState(""),p=I(C,2),c=p[0],_=p[1],y=s(c,300),o=F(y),d=o.groups,g=o.isLoading,m=o.hasNextPage,S=o.fetchNextPage,b=function(){m&&S()},h=function(){return r(q("CREATE_GROUP"))},R=function(){return e(u,{space:4,alignItems:"center",justifyContent:"center",className:"py-6"},void 0,e(u,{space:2,className:"max-w-sm"},void 0,e(G,{size:"2xl",weight:"bold",tag:"h2",align:"center"},void 0,e(n,{id:"groups.empty.title",defaultMessage:"No Groups yet"})),e(G,{size:"sm",theme:"muted",align:"center"},void 0,e(n,{id:"groups.empty.subtitle",defaultMessage:"Start discovering groups to join or create your own."}))),l&&e(v,{className:"self-center",onClick:h,theme:"secondary"},void 0,e(n,{id:"new_group_panel.action",defaultMessage:"Create Group"})))};return e(u,{space:4},void 0,t.groupsDiscovery&&e(J,{activeTab:Q.MY_GROUPS}),l&&e(v,{className:"xl:hidden",icon:B,onClick:h,theme:"secondary",block:!0},void 0,e(n,{id:"new_group_panel.action",defaultMessage:"Create Group"})),t.groupsSearch?e(D,{onChange:function(N){return _(N.target.value)},placeholder:M.formatMessage(X.placeholder),theme:"search",value:c}):null,e(W,{}),e(V,{scrollKey:"groups",emptyMessage:R(),emptyMessageCard:!1,itemClassName:"pb-4 last:pb-0",isLoading:g,showLoading:g&&d.length===0,placeholderComponent:Y,placeholderCount:3,onLoadMore:b,hasMore:m},void 0,d.map(function(a){return e(A,{to:"/group/".concat(a.slug)},a.id,e(U,{group:a}))})))};export{le as default};
