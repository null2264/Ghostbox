import{a4 as M,a7 as h,a8 as _,N as P,a9 as T,d as S,f as w,q as I,r as b,aa as p,R as v,a as t,X as $,H as q,ab as g,a6 as A,y as E,F as f,a2 as F,ac as L,ad as N}from"../index-220d7bfb.js";import{T as z}from"./timeline-be2cdb33.js";import{P as B}from"./pinned-hosts-picker-647bf28c.js";import"./scroll-top-button-05e2b8fb.js";import"./status-list-6eeae40e.js";import"./scrollable-list-246541a8.js";import"./index-8fdb89e6.js";import"./load-more-65d410f3.js";import"./status-container-276d89bd.js";import"./pending-status-0a94a537.js";import"./poll-preview-8a646086.js";import"./noop-8f79429c.js";function D({instance:n,onlyMedia:i}){return M(`remote${i?":media":""}:${n}`,`public:remote${i?":media":""}&instance=${n}`)}const H=n=>P(n).getIn(["remote_timeline","pinnedHosts"]),K=n=>(i,s)=>{const o=s(),a=H(o);return i(h(["remote_timeline","pinnedHosts"],_(a).add(n)))},O=n=>(i,s)=>{const o=s(),a=H(o);return i(h(["remote_timeline","pinnedHosts"],_(a).remove(n)))};var ne=function(i){var s=i.params,o=T(),a=S(),e=s==null?void 0:s.instance,c=w(),u="remote",r=!!c.getIn(["remote","other","onlyMedia"]),y=I(function(m){var l;return(l=m.timelines.get("remote"))===null||l===void 0?void 0:l.next}),d=c.getIn(["remote_timeline","pinnedHosts"]).includes(e),R=function(){o.push("/timeline/fediverse")},k=function(l){a(p(e,{url:y,maxId:l,onlyMedia:r}))};D({instance:e,onlyMedia:r}),b.useEffect(function(){a(p(e,{onlyMedia:r,maxId:void 0}))},[r]);var x=function(){a(d?O(e):K(e))},C=function(){return t(g,{size:18,src:d?L:N,onClick:x})};return v.createElement(v.Fragment,null,e&&t(B,{host:e}),t(F,{variant:"rounded"},void 0,t($,{label:e,transparent:!0,action:C()},void 0,!d&&t(q,{className:"rounded-lg bg-white p-2 text-gray-900 shadow dark:bg-primary-800 dark:text-gray-100 dark:shadow-none",space:2},void 0,t(g,{iconClassName:"h-5 w-5",src:A,onClick:R}),t(E,{},void 0,t(f,{id:"remote_timeline.filter_message",defaultMessage:"You are viewing the timeline of {instance}.",values:{instance:e}}))),t(z,{scrollKey:"".concat(u,"_").concat(e,"_timeline"),timelineId:"".concat(u).concat(r?":media":"",":").concat(e),onLoadMore:k,emptyMessage:t(f,{id:"empty_column.remote",defaultMessage:"There is nothing here! Manually follow users from {instance} to fill it up.",values:{instance:e}}),divideType:"border"}))))};export{ne as default};
