import{a4 as M,u as E,d as T,t as w,f as B,q as P,r as R,a5 as l,R as p,a as e,X as k,F as s,a6 as F,L as I,a2 as L,o as S,a7 as c}from"../index-220d7bfb.js";import{A}from"./accordion-086be4f7.js";import{P as C}from"./pull-to-refresh-8638c3e3.js";import{P as $}from"./pinned-hosts-picker-647bf28c.js";import{T as q}from"./timeline-be2cdb33.js";import"./dots-vertical-68cbc8e2.js";import"./scroll-top-button-05e2b8fb.js";import"./status-list-6eeae40e.js";import"./scrollable-list-246541a8.js";import"./index-8fdb89e6.js";import"./load-more-65d410f3.js";import"./status-container-276d89bd.js";import"./pending-status-0a94a537.js";import"./poll-preview-8a646086.js";import"./noop-8f79429c.js";function D({onlyMedia:n}={}){return M(`public${n?":media":""}`,`public${n?":media":""}`)}var f=S({title:{id:"column.public",defaultMessage:"Fediverse timeline"},dismiss:{id:"fediverse_tab.explanation_box.dismiss",defaultMessage:"Don't show again"}}),ee=function(){var m=E(),i=T(),d=w(),r=B(),a=!!r.getIn(["public","other","onlyMedia"],!1),v=P(function(o){var t;return(t=o.timelines.get("public"))===null||t===void 0?void 0:t.next}),u="public",h=r.get("explanationBox"),x=r.get("showExplanationBox"),g=function(){i(c(["showExplanationBox"],!1))},b=function(t){i(c(["explanationBox"],t))},_=function(t){i(l({url:v,maxId:t,onlyMedia:a}))},y=function(){return i(l({onlyMedia:a}))};return D({onlyMedia:a}),R.useEffect(function(){i(l({onlyMedia:a}))},[a]),p.createElement(p.Fragment,null,e($,{}),e(L,{variant:"rounded"},void 0,e(k,{className:"-mt-3 sm:mt-0",label:m.formatMessage(f.title),transparent:!0},void 0,x&&e("div",{className:"mb-4"},void 0,e(A,{headline:e(s,{id:"fediverse_tab.explanation_box.title",defaultMessage:"What is the Fediverse?"}),action:g,actionIcon:F,actionLabel:m.formatMessage(f.dismiss),expanded:h,onToggle:b},void 0,e(s,{id:"fediverse_tab.explanation_box.explanation",defaultMessage:`{site_title} is part of the Fediverse, a social network made up of thousands of independent social media sites (aka "servers"). The posts you see here are from 3rd-party servers. You have the freedom to engage with them, or to block any server you don't like. Pay attention to the full username after the second @ symbol to know which server a post is from. To see only {site_title} posts, visit {local}.`,values:{site_title:d.title,local:e(I,{to:"/timeline/local"},void 0,e(s,{id:"empty_column.home.local_tab",defaultMessage:"the {site_title} tab",values:{site_title:d.title}}))}}))),e(C,{onRefresh:y},void 0,e(q,{scrollKey:"".concat(u,"_timeline"),timelineId:"".concat(u).concat(a?":media":""),prefix:"home",onLoadMore:_,emptyMessage:e(s,{id:"empty_column.public",defaultMessage:"There is nothing here! Write something publicly, or manually follow users from other servers to fill it up"}),divideType:"border"})))))};export{ee as default};
