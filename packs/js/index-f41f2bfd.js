import{bp as M,cF as S,cJ as y,cK as b,u as _,d as v,a as s,ab as C,a6 as w,H as f,o as p,N as x,iN as c,aH as I,iO as A,aw as R,q as r,W as m,b6 as L,cL as P,bU as E,c3 as N,R as H,az as k,Q as F,iP as j,r as q,iQ as z,X as B,F as O}from"../index-ba4f4778.js";import{S as T}from"./scrollable-list-766b0ddc.js";import{P as W}from"./poll-preview-43a38988.js";import"./index-8b3eb63f.js";import"./load-more-e203746d.js";import"./noop-151a2208.js";var $=function(n,t){var a,e=n.me,d=(a=n.entities[M.ACCOUNTS])===null||a===void 0?void 0:a.store[e],u=S({account:d,content:t.text.replace(new RegExp(`
`,"g"),"<br>"),created_at:t.scheduled_at,id:t.id,in_reply_to_id:t.in_reply_to_id,media_attachments:t.media_attachments,poll:t.poll,sensitive:t.sensitive,uri:"/scheduled_statuses/".concat(t.id),url:"/scheduled_statuses/".concat(t.id),visibility:t.visibility});return y(b(u))},l=p({cancel:{id:"scheduled_status.cancel",defaultMessage:"Cancel"},deleteConfirm:{id:"confirmations.scheduled_status_delete.confirm",defaultMessage:"Cancel"},deleteHeading:{id:"confirmations.scheduled_status_delete.heading",defaultMessage:"Cancel scheduled post"},deleteMessage:{id:"confirmations.scheduled_status_delete.message",defaultMessage:"Are you sure you want to cancel this scheduled post?"}}),K=function(n){var t=n.status,a=_(),e=v(),d=function(){e(function(i,h){var g=x(h()).get("deleteModal");e(g?I("CONFIRM",{icon:A,heading:a.formatMessage(l.deleteHeading),message:a.formatMessage(l.deleteMessage),confirm:a.formatMessage(l.deleteConfirm),onConfirm:function(){return e(c(t.id))}}):c(t.id))})};return s(f,{justifyContent:"end"},void 0,s(C,{title:a.formatMessage(l.cancel),text:a.formatMessage(l.cancel),src:w,onClick:d}))},Q=["statusId"],U=function(n){var t=n.statusId,a=R(n,Q),e=r(function(u){var i=u.scheduled_statuses.get(t);return i?$(u,i):null});if(!e)return null;var d=e.account;return s("div",{className:m("status__wrapper","status__wrapper-".concat(e.visibility),{"status__wrapper-reply":!!e.in_reply_to_id}),tabIndex:0},void 0,s("div",{className:m("status","status-".concat(e.visibility),{"status-reply":!!e.in_reply_to_id}),"data-id":e.id},void 0,s("div",{className:"mb-4"},void 0,s(f,{justifyContent:"between",alignItems:"start"},void 0,s(L,{account:d,timestamp:e.created_at,futureTimestamp:!0,hideActions:!0},d.id))),s(P,{status:e}),s(E,{status:e,collapsable:!0}),e.media_attachments.size>0&&s(N,{media:e.media_attachments,sensitive:e.sensitive}),e.poll&&s(W,{pollId:e.poll}),H.createElement(K,k({status:e},a))))},D=p({heading:{id:"column.scheduled_statuses",defaultMessage:"Scheduled Posts"}}),J=F(function(o){o(j())},300,{leading:!0}),se=function(){var n=_(),t=v(),a=r(function(i){return i.status_lists.get("scheduled_statuses").items}),e=r(function(i){return i.status_lists.get("scheduled_statuses").isLoading}),d=r(function(i){return!!i.status_lists.get("scheduled_statuses").next});q.useEffect(function(){t(z())},[]);var u=s(O,{id:"empty_column.scheduled_statuses",defaultMessage:"You don't have any scheduled statuses yet. When you add one, it will show up here."});return s(B,{label:n.formatMessage(D.heading)},void 0,s(T,{scrollKey:"scheduled_statuses",hasMore:d,isLoading:typeof e=="boolean"?e:!0,onLoadMore:function(){return J(t)},emptyMessage:u},void 0,a.map(function(i){return s(U,{statusId:i},i)})))};export{se as default};
