import{bb as p,u as v,a as e,ak as i,al as _,aj as g,o as b,d as A,q as E,g as k,r as w,eZ as C,a2 as D,eL as r,cy as l,b2 as c,R as o,F as x,e_ as P,y as F,X as S}from"../index-40995b31.js";import{u as I}from"./accounts-f95fd1c3.js";var O=b({label:{id:"settings.messages.label",defaultMessage:"Allow users to start a new chat with you"}}),R=function(){var n,a=p(),u=a.account,t=v(),f=I(),d=function(m){f.mutate({accepts_chat_messages:m.target.checked})};return u?e(g,{},void 0,e(i,{label:t.formatMessage(O.label)},void 0,e(_,{checked:(n=u.pleroma)===null||n===void 0?void 0:n.accepts_chat_messages,onChange:d}))):null},s=b({accountAliases:{id:"navigation_bar.account_aliases",defaultMessage:"Account aliases"},accountMigration:{id:"settings.account_migration",defaultMessage:"Move Account"},backups:{id:"column.backups",defaultMessage:"Backups"},blocks:{id:"settings.blocks",defaultMessage:"Blocks"},changeEmail:{id:"settings.change_email",defaultMessage:"Change Email"},changePassword:{id:"settings.change_password",defaultMessage:"Change Password"},configureMfa:{id:"settings.configure_mfa",defaultMessage:"Configure MFA"},deleteAccount:{id:"settings.delete_account",defaultMessage:"Delete Account"},editProfile:{id:"settings.edit_profile",defaultMessage:"Edit Profile"},exportData:{id:"column.export_data",defaultMessage:"Export data"},importData:{id:"navigation_bar.import_data",defaultMessage:"Import data"},mfaDisabled:{id:"mfa.disabled",defaultMessage:"Disabled"},mfaEnabled:{id:"mfa.enabled",defaultMessage:"Enabled"},mutes:{id:"settings.mutes",defaultMessage:"Mutes"},other:{id:"settings.other",defaultMessage:"Other options"},preferences:{id:"settings.preferences",defaultMessage:"Preferences"},privacy:{id:"settings.privacy",defaultMessage:"Privacy"},profile:{id:"settings.profile",defaultMessage:"Profile"},security:{id:"settings.security",defaultMessage:"Security"},sessions:{id:"settings.sessions",defaultMessage:"Active sessions"},settings:{id:"settings.settings",defaultMessage:"Settings"}}),N=function(){var n=A(),a=v(),u=E(function(y){return y.security.get("mfa")}),t=k(),f=p(),d=f.account,M=u.getIn(["settings","totp"]);if(w.useEffect(function(){t.security&&n(C())},[n]),!d)return null;var m=d.display_name||d.username;return e(S,{label:a.formatMessage(s.settings),transparent:!0,withHeader:!1},void 0,e(D,{className:"space-y-4",variant:"rounded"},void 0,e(r,{},void 0,e(l,{title:a.formatMessage(s.profile)})),e(c,{},void 0,e(g,{},void 0,e(i,{label:a.formatMessage(s.editProfile),to:"/settings/profile"},void 0,e("span",{className:"max-w-full truncate"},void 0,m)))),e(r,{},void 0,e(l,{title:a.formatMessage(s.privacy)})),e(c,{},void 0,e(g,{},void 0,e(i,{label:a.formatMessage(s.mutes),to:"/mutes"}),e(i,{label:a.formatMessage(s.blocks),to:"/blocks"}))),(t.security||t.sessions)&&o.createElement(o.Fragment,null,e(r,{},void 0,e(l,{title:a.formatMessage(s.security)})),e(c,{},void 0,e(g,{},void 0,t.security&&o.createElement(o.Fragment,null,e(i,{label:a.formatMessage(s.changeEmail),to:"/settings/email"}),e(i,{label:a.formatMessage(s.changePassword),to:"/settings/password"}),e(i,{label:a.formatMessage(s.configureMfa),to:"/settings/mfa"},void 0,e("span",{},void 0,M?a.formatMessage(s.mfaEnabled):a.formatMessage(s.mfaDisabled)))),t.sessions&&e(i,{label:a.formatMessage(s.sessions),to:"/settings/tokens"})))),t.chats?o.createElement(o.Fragment,null,e(r,{},void 0,e(l,{title:e(x,{id:"column.chats",defaultMessage:"Chats"})})),e(c,{},void 0,e(R,{}))):null,e(r,{},void 0,e(l,{title:a.formatMessage(s.preferences)})),e(c,{},void 0,e(P,{})),(t.security||t.accountAliases)&&o.createElement(o.Fragment,null,e(r,{},void 0,e(l,{title:a.formatMessage(s.other)})),e(c,{},void 0,e(g,{},void 0,t.importData&&e(i,{label:a.formatMessage(s.importData),to:"/settings/import"}),t.exportData&&e(i,{label:a.formatMessage(s.exportData),to:"/settings/export"}),t.backups&&e(i,{label:a.formatMessage(s.backups),to:"/settings/backups"}),t.federating&&(t.accountMoving?e(i,{label:a.formatMessage(s.accountMigration),to:"/settings/migrations"}):t.accountAliases&&e(i,{label:a.formatMessage(s.accountAliases),to:"/settings/aliases"})),t.security&&e(i,{label:e(F,{theme:"danger"},void 0,a.formatMessage(s.deleteAccount)),to:"/settings/account"}))))))};export{N as default};
