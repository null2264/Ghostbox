import{a4 as M,u as E,d as T,t as w,f as B,q as P,r as R,a5 as r,R as u,a as e,X as k,F as s,a6 as F,L as I,a2 as L,o as S,a7 as c}from"../index-7e6328d1.js";import{A}from"./accordion-9cfb602a.js";import{P as C}from"./pull-to-refresh-d215494e.js";import{P as N}from"./pinned-hosts-picker-1db594b6.js";import{T as $}from"./timeline-5413870e.js";import"./dots-vertical-68cbc8e2.js";import"./scroll-top-button-5860d400.js";import"./status-list-b8d1c2cd.js";import"./scrollable-list-efaa23fa.js";import"./index-59c4502f.js";import"./load-more-2183c71c.js";import"./status-container-a59704f0.js";import"./pending-status-f5ea174f.js";import"./poll-preview-b1dcd41b.js";import"./noop-2d647766.js";function q({onlyMedia:n}={}){return M(`public${n?":media":""}`,`public${n?":media":""}`)}var f=S({title:{id:"column.public",defaultMessage:"Fediverse timeline"},dismiss:{id:"fediverse_tab.explanation_box.dismiss",defaultMessage:"Don't show again"}}),ee=function(){var m=E(),i=T(),d=w(),l=B(),t=!!l.getIn(["public","other","onlyMedia"],!1),v=P(function(o){var a;return(a=o.timelines.get("public"))===null||a===void 0?void 0:a.next}),p="public",h=l.get("explanationBox"),x=l.get("showExplanationBox"),g=function(){i(c(["showExplanationBox"],!1))},b=function(a){i(c(["explanationBox"],a))},_=function(a){i(r({url:v,maxId:a,onlyMedia:t}))},y=function(){return i(r({onlyMedia:t}))};return q({onlyMedia:t}),R.useEffect(function(){i(r({onlyMedia:t}))},[t]),u.createElement(u.Fragment,null,e(N,{}),e(L,{variant:"rounded",pad:!1,className:"p-4"},void 0,e(k,{className:"-mt-3 sm:mt-0",label:m.formatMessage(f.title),transparent:!0},void 0,x&&e("div",{className:"mb-4"},void 0,e(A,{headline:e(s,{id:"fediverse_tab.explanation_box.title",defaultMessage:"What is the Fediverse?"}),action:g,actionIcon:F,actionLabel:m.formatMessage(f.dismiss),expanded:h,onToggle:b},void 0,e(s,{id:"fediverse_tab.explanation_box.explanation",defaultMessage:`{site_title} is part of the Fediverse, a social network made up of thousands of independent social media sites (aka "servers"). The posts you see here are from 3rd-party servers. You have the freedom to engage with them, or to block any server you don't like. Pay attention to the full username after the second @ symbol to know which server a post is from. To see only {site_title} posts, visit {local}.`,values:{site_title:d.title,local:e(I,{to:"/timeline/local"},void 0,e(s,{id:"empty_column.home.local_tab",defaultMessage:"the {site_title} tab",values:{site_title:d.title}}))}}))),e(C,{onRefresh:y},void 0,e($,{scrollKey:"".concat(p,"_timeline"),timelineId:"".concat(p).concat(t?":media":""),prefix:"home",onLoadMore:_,emptyMessage:e(s,{id:"empty_column.public",defaultMessage:"There is nothing here! Write something publicly, or manually follow users from other servers to fill it up"}),className:"px-2"})))))};export{ee as default};
