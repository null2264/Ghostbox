import{bm as M,cE as S,cI as y,cJ as b,u as _,d as v,a as s,a9 as C,a5 as I,H as f,o as p,N as x,iO as c,aD as R,iP as w,as as A,q as r,W as m,b2 as E,cK as P,bR as L,c1 as N,R as k,av as H,Q as j,iQ as q,r as B,iR as F,X as O,F as T}from"../index-ad4834c1.js";import{S as W}from"./scrollable-list-d8ee58b2.js";import{P as $}from"./poll-preview-585776ee.js";import"./index-14049f57.js";import"./load-more-38e81fb2.js";import"./noop-90763fd7.js";var z=function(n,t){var a,e=n.me,d=(a=n.entities[M.ACCOUNTS])===null||a===void 0?void 0:a.store[e],u=S({account:d,content:t.text.replace(new RegExp(`
`,"g"),"<br>"),created_at:t.scheduled_at,id:t.id,in_reply_to_id:t.in_reply_to_id,media_attachments:t.media_attachments,poll:t.poll,sensitive:t.sensitive,uri:"/scheduled_statuses/".concat(t.id),url:"/scheduled_statuses/".concat(t.id),visibility:t.visibility});return y(b(u))},l=p({cancel:{id:"scheduled_status.cancel",defaultMessage:"Cancel"},deleteConfirm:{id:"confirmations.scheduled_status_delete.confirm",defaultMessage:"Cancel"},deleteHeading:{id:"confirmations.scheduled_status_delete.heading",defaultMessage:"Cancel scheduled post"},deleteMessage:{id:"confirmations.scheduled_status_delete.message",defaultMessage:"Are you sure you want to cancel this scheduled post?"}}),D=function(n){var t=n.status,a=_(),e=v(),d=function(){e(function(i,h){var g=x(h()).get("deleteModal");e(g?R("CONFIRM",{icon:w,heading:a.formatMessage(l.deleteHeading),message:a.formatMessage(l.deleteMessage),confirm:a.formatMessage(l.deleteConfirm),onConfirm:function(){return e(c(t.id))}}):c(t.id))})};return s(f,{justifyContent:"end"},void 0,s(C,{title:a.formatMessage(l.cancel),text:a.formatMessage(l.cancel),src:I,onClick:d}))},K=["statusId"],Q=function(n){var t=n.statusId,a=A(n,K),e=r(function(u){var i=u.scheduled_statuses.get(t);return i?z(u,i):null});if(!e)return null;var d=e.account;return s("div",{className:m("status__wrapper","status__wrapper-".concat(e.visibility),{"status__wrapper-reply":!!e.in_reply_to_id}),tabIndex:0},void 0,s("div",{className:m("status","status-".concat(e.visibility),{"status-reply":!!e.in_reply_to_id}),"data-id":e.id},void 0,s("div",{className:"mb-4"},void 0,s(f,{justifyContent:"between",alignItems:"start"},void 0,s(E,{account:d,timestamp:e.created_at,futureTimestamp:!0,hideActions:!0},d.id))),s(P,{status:e}),s(L,{status:e,collapsable:!0}),e.media_attachments.size>0&&s(N,{media:e.media_attachments,sensitive:e.sensitive}),e.poll&&s($,{pollId:e.poll}),k.createElement(D,H({status:e},a))))},J=p({heading:{id:"column.scheduled_statuses",defaultMessage:"Scheduled Posts"}}),U=j(function(o){o(q())},300,{leading:!0}),se=function(){var n=_(),t=v(),a=r(function(i){return i.status_lists.get("scheduled_statuses").items}),e=r(function(i){return i.status_lists.get("scheduled_statuses").isLoading}),d=r(function(i){return!!i.status_lists.get("scheduled_statuses").next});B.useEffect(function(){t(F())},[]);var u=s(T,{id:"empty_column.scheduled_statuses",defaultMessage:"You don't have any scheduled statuses yet. When you add one, it will show up here."});return s(O,{label:n.formatMessage(J.heading)},void 0,s(W,{scrollKey:"scheduled_statuses",hasMore:d,isLoading:typeof e=="boolean"?e:!0,onLoadMore:function(){return U(t)},emptyMessage:u},void 0,a.map(function(i){return s(Q,{statusId:i},i)})))};export{se as default};
