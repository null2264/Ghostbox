import{u as P,d as T,f as k,q as x,r as f,at as m,a as e,eL as L,cy as D,bE as I,bF as U,bZ as R,bI as V,aa as j,F as t,X as q,af as B,ag as i,fW as n,o as G,a6 as H,f4 as W,_ as X,jh as Z,ji as z,bp as K}from"../index-9e17f5e3.js";var Q=function(r){try{return JSON.parse(r),!0}catch{return!1}},v=G({heading:{id:"column.settings_store",defaultMessage:"Settings store"},advanced:{id:"developers.settings_store.advanced",defaultMessage:"Advanced settings"},hint:{id:"developers.settings_store.hint",defaultMessage:"It is possible to directly edit your user settings here. BE CAREFUL! Editing this section can break your account, and you will only be able to recover through the API."}}),$=function(){var r=P(),l=T(),a=k(),c=x(function(g){return g.settings}),N=f.useState(JSON.stringify(c,null,2)),p=m(N,2),S=p[0],b=p[1],A=f.useState(!0),_=m(A,2),M=_[0],y=_[1],J=f.useState(!1),w=m(J,2),C=w[0],h=w[1],F=function(u){var o=u.target,d=o.value;b(d),y(Q(d))},s=function(u,o){l(H(u,o,{showAlert:!0}))},O=function(u){var o=JSON.parse(S);h(!0),l(W({pleroma_settings_store:X({},Z,o)})).then(function(d){l({type:z,settings:o}),h(!1)}).catch(function(d){K.showAlertForError(d),h(!1)})};return f.useEffect(function(){b(JSON.stringify(c,null,2)),y(!0)},[c]),e(q,{label:r.formatMessage(v.heading),backHref:"/developers"},void 0,e(I,{onSubmit:O},void 0,e(U,{hintText:r.formatMessage(v.hint),errors:M?[]:["is invalid"]},void 0,e(R,{value:S,onChange:F,disabled:C,rows:12,isCodeEditor:!0})),e(V,{},void 0,e(j,{theme:"primary",type:"submit",disabled:!M||C},void 0,e(t,{id:"soapbox_config.save",defaultMessage:"Save"})))),e(L,{},void 0,e(D,{title:r.formatMessage(v.advanced)})),e(B,{},void 0,e(i,{label:e(t,{id:"preferences.fields.demo_label",defaultMessage:"Demo mode"}),hint:e(t,{id:"preferences.fields.demo_hint",defaultMessage:"Use the default Soapbox logo and color scheme. Useful for taking screenshots."})},void 0,e(n,{settings:a,settingPath:["demo"],onChange:s})),e(i,{label:e(t,{id:"preferences.notifications.advanced",defaultMessage:"Show all notification categories"})},void 0,e(n,{settings:a,settingPath:["notifications","quickFilter","advanced"],onChange:s})),e(i,{label:e(t,{id:"preferences.fields.unfollow_modal_label",defaultMessage:"Show confirmation dialog before unfollowing someone"})},void 0,e(n,{settings:a,settingPath:["unfollowModal"],onChange:s})),e(i,{label:e(t,{id:"preferences.fields.missing_description_modal_label",defaultMessage:"Show confirmation dialog before sending a post without media descriptions"})},void 0,e(n,{settings:a,settingPath:["missingDescriptionModal"],onChange:s})),e(i,{label:e(t,{id:"preferences.fields.reduce_motion_label",defaultMessage:"Reduce motion in animations"})},void 0,e(n,{settings:a,settingPath:["reduceMotion"],onChange:s})),e(i,{label:e(t,{id:"preferences.fields.underline_links_label",defaultMessage:"Always underline links in posts"})},void 0,e(n,{settings:a,settingPath:["underlineLinks"],onChange:s})),e(i,{label:e(t,{id:"preferences.fields.system_font_label",defaultMessage:"Use system's default font"})},void 0,e(n,{settings:a,settingPath:["systemFont"],onChange:s})),e(i,{label:e(t,{id:"preferences.fields.demetricator_label",defaultMessage:"Use Demetricator"}),hint:e(t,{id:"preferences.hints.demetricator",defaultMessage:"Decrease social media anxiety by hiding all numbers from the site."})},void 0,e(n,{settings:a,settingPath:["demetricator"],onChange:s}))))};export{$ as default};
