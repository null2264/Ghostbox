import{a4 as M,a7 as h,a8 as _,N as P,a9 as S,d as T,f as w,q as I,r as $,aa as p,R as v,a as t,X as b,H as q,ab as g,a6 as A,y as E,F as f,a2 as N,ac as F,ad as L}from"../index-a6716a18.js";import{T as z}from"./timeline-9765606c.js";import{P as B}from"./pinned-hosts-picker-b6bd5585.js";import"./scroll-top-button-2b2d263e.js";import"./status-list-fd51a9be.js";import"./scrollable-list-90c10db2.js";import"./index-7d76b122.js";import"./load-more-62ca88a0.js";import"./status-container-f307d573.js";import"./pending-status-8383d9c2.js";import"./poll-preview-1c80ed63.js";import"./noop-50028ce8.js";function D({instance:n,onlyMedia:a}){return M(`remote${a?":media":""}:${n}`,`public:remote${a?":media":""}&instance=${n}`)}const H=n=>P(n).getIn(["remote_timeline","pinnedHosts"]),K=n=>(a,s)=>{const o=s(),i=H(o);return a(h(["remote_timeline","pinnedHosts"],_(i).add(n)))},O=n=>(a,s)=>{const o=s(),i=H(o);return a(h(["remote_timeline","pinnedHosts"],_(i).remove(n)))};var ne=function(a){var s=a.params,o=S(),i=T(),e=s==null?void 0:s.instance,c=w(),u="remote",r=!!c.getIn(["remote","other","onlyMedia"]),y=I(function(m){var l;return(l=m.timelines.get("remote"))===null||l===void 0?void 0:l.next}),d=c.getIn(["remote_timeline","pinnedHosts"]).includes(e),R=function(){o.push("/timeline/fediverse")},k=function(l){i(p(e,{url:y,maxId:l,onlyMedia:r}))};D({instance:e,onlyMedia:r}),$.useEffect(function(){i(p(e,{onlyMedia:r,maxId:void 0}))},[r]);var x=function(){i(d?O(e):K(e))},C=function(){return t(g,{size:18,src:d?F:L,onClick:x})};return v.createElement(v.Fragment,null,e&&t(B,{host:e}),t(N,{variant:"rounded",pad:!1,className:"p-6"},void 0,t(b,{label:e,transparent:!0,action:C()},void 0,!d&&t(q,{className:"rounded-lg bg-white p-2 text-gray-900 shadow dark:bg-primary-800 dark:text-gray-100 dark:shadow-none",space:2},void 0,t(g,{iconClassName:"h-5 w-5",src:A,onClick:R}),t(E,{},void 0,t(f,{id:"remote_timeline.filter_message",defaultMessage:"You are viewing the timeline of {instance}.",values:{instance:e}}))),t(z,{scrollKey:"".concat(u,"_").concat(e,"_timeline"),timelineId:"".concat(u).concat(r?":media":"",":").concat(e),onLoadMore:k,emptyMessage:t(f,{id:"empty_column.remote",defaultMessage:"There is nothing here! Manually follow users from {instance} to fill it up.",values:{instance:e}})}))))};export{ne as default};
