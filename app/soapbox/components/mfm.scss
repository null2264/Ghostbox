.mfm {
  --default-animation-speed: 1s;
  display: inline-block;
}

@keyframes mfm-rubberBand {
  from {
    transform: scale3d(1, 1, 1);
  }
  30% {
    transform: scale3d(1.25, 0.75, 1);
  }
  40% {
    transform: scale3d(0.75, 1.25, 1);
  }
  50% {
    transform: scale3d(1.15, 0.85, 1);
  }
  65% {
    transform: scale3d(0.95, 1.05, 1);
  }
  75% {
    transform: scale3d(1.05, 0.95, 1);
  }
  to {
    transform: scale3d(1, 1, 1);
  }
}

@keyframes mfm-tada {
  0% {
    transform: scaleZ(1);
  }
  10%, 20% {
    transform: scale3d(.9,.9,.9) rotate3d(0,0,1,-3deg);
  }
  30%, 50%, 70%, 90% {
    transform: scale3d(1.1,1.1,1.1) rotate3d(0,0,1,3deg);
  }
  40%, 60%, 80% {
    transform: scale3d(1.1,1.1,1.1) rotate3d(0,0,1,-3deg);
  }
  100% {
    transform: scaleZ(1);
  }
}

@keyframes mfm-jump {
  0% {
    transform:translateY(0) 
  }
  25% {
    transform:translateY(-16px) 
  }
  50% {
    transform:translateY(0) 
  }
  75% {
    transform:translateY(-8px) 
  }
  to {
    transform:translateY(0) 
  }
}

@keyframes mfm-bounce {
  0% {
    transform:translateY(0) scale(1) 
  }
  25% {
    transform:translateY(-16px) scale(1) 
  }
  50% {
    transform:translateY(0) scale(1) 
  }
  75% {
    transform:translateY(0) scale(1.5,.75) 
  }
  to {
    transform:translateY(0) scale(1) 
  }
}

@keyframes mfm-spinX {
  0% {
    transform: perspective(128px) rotateX(0);
  }
  to {
    transform: perspective(128px) rotateX(360deg);
  }
}

@keyframes mfm-spinY {
  0% {
    transform: perspective(128px) rotateY(0);
  }
  to {
    transform: perspective(128px) rotateY(360deg);
  }
}

@keyframes mfm-spin {
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
}

@keyframes mfm-shake {
  0% {
    transform: translate(-3px, -1px) rotate(-8deg);
  }
  5% {
    transform: translateY(-1px) rotate(-10deg);
  }
  10% {
    transform: translate(1px, -3px) rotate(0);
  }
  15% {
    transform: translate(1px, 1px) rotate(11deg);
  }
  20% {
    transform: translate(-2px, 1px) rotate(1deg);
  }
  25% {
    transform: translate(-1px, -2px) rotate(-2deg);
  }
  30% {
    transform: translate(-1px, 2px) rotate(-3deg);
  }
  35% {
    transform: translate(2px, 1px) rotate(6deg);
  }
  40% {
    transform: translate(-2px, -3px) rotate(-9deg);
  }
  45% {
    transform: translateY(-1px) rotate(-12deg);
  }
  50% {
    transform: translate(1px, 2px) rotate(10deg);
  }
  55% {
    transform: translateY(-3px) rotate(8deg);
  }
  60% {
    transform: translate(1px, -1px) rotate(8deg);
  }
  65% {
    transform: translateY(-1px) rotate(-7deg);
  }
  70% {
    transform: translate(-1px, -3px) rotate(6deg);
  }
  75% {
    transform: translateY(-2px) rotate(4deg);
  }
  80% {
    transform: translate(-2px, -1px) rotate(3deg);
  }
  85% {
    transform: translate(1px, -3px) rotate(-10deg);
  }
  90% {
    transform: translate(1px) rotate(3deg);
  }
  95% {
    transform: translate(-2px) rotate(-3deg);
  }
  to {
    transform: translate(2px, 1px) rotate(2deg);
  }
}

@keyframes mfm-twitch {
  0% {
    transform: translate(7px, -2px);
  }
  5% {
    transform: translate(-3px, 1px);
  }
  10% {
    transform: translate(-7px, -1px);
  }
  15% {
    transform: translateY(-1px);
  }
  20% {
    transform: translate(-8px, 6px);
  }
  25% {
    transform: translate(-4px, -3px);
  }
  30% {
    transform: translate(-4px, -6px);
  }
  35% {
    transform: translate(-8px, -8px);
  }
  40% {
    transform: translate(4px, 6px);
  }
  45% {
    transform: translate(-3px, 1px);
  }
  50% {
    transform: translate(2px, -10px);
  }
  55% {
    transform: translate(-7px);
  }
  60% {
    transform: translate(-2px, 4px);
  }
  65% {
    transform: translate(3px, -8px);
  }
  70% {
    transform: translate(6px, 7px);
  }
  75% {
    transform: translate(-7px, -2px);
  }
  80% {
    transform: translate(-7px, -8px);
  }
  85% {
    transform: translate(9px, 3px);
  }
  90% {
    transform: translate(-3px, -2px);
  }
  95% {
    transform: translate(-10px, 2px);
  }
  to {
    transform: translate(-2px, -6px);
  }
}

@keyframes mfm-rainbow {
  0% {
    filter: hue-rotate(0deg) contrast(150%) saturate(150%);
  }
  to {
    filter: hue-rotate(360deg) contrast(150%) saturate(150%);
  }
}

@keyframes mfm-sparkle {
  0% {
    filter: brightness(100%);
  }
  to {
    filter: brightness(300%);
  }
}

/*
Not added/used:
- flip, scrubbed
- font, requires inline style attr
- spinX and spinY, scrubbed
- shake, scrubbed
- twitch, scrubbed
- rainbow, scrubbed
- sparkle, scrubbed
- rotate, scrubbed
- scale, not covered by mfm-parser
- MFM Properties, maybe use data-* instead?
*/

._mfm_flip_ {
  transform: scale(-1);
}

._mfm_flipH_ {
  transform: scaleX(-1);
}

._mfm_flipV_ {
  transform: scaleY(-1);
}

._mfm_x2_,
._mfm_x3_,
._mfm_x4_ {
  font-size: var(--mfm-zoom-size);

  ._mfm_x2_,
  ._mfm_x3_,
  ._mfm_x4_ {
    font-size: calc(var(--mfm-zoom-size) / 2 + 50%);

    ._mfm_x2_,
    ._mfm_x3_,
    ._mfm_x4_ {
      font-size: 100%;
    }
  }
}

._mfm_x2_ {
  --mfm-zoom-size: 200%;
}

._mfm_x3_ {
  --mfm-zoom-size: 400%;
}

._mfm_x4_ {
  --mfm-zoom-size: 600%;
}

._mfm_blur_ {
	filter: blur(6px);
	transition: filter 0.3s;
	&:hover {
		filter: blur(0px);
	}
}

._mfm_jelly_ {
  animation: var(--default-animation-speed) linear infinite both mfm-rubberBand;
}

._mfm_tada_ {
  font-size: 150%;
  animation: var(--default-animation-speed) linear 0s infinite normal both running mfm-tada;
}

._mfm_jump_ {
  animation: var(--default-animation-speed) linear 0s infinite normal both running mfm-jump;
}

._mfm_bounce_ {
  animation: var(--default-animation-speed) linear 0s infinite normal both running mfm-bounce;
}

._mfm_spin_ {
  animation: var(--default-animation-speed) linear 0s infinite normal none running mfm-spin;
}

._mfm_spinX_ {
  animation: var(--default-animation-speed) linear 0s infinite normal none running mfm-spinX;
}

._mfm_spinY_ {
  animation: var(--default-animation-speed) linear 0s infinite normal none running mfm-spinY;
}

._mfm_shake_ {
  animation: var(--default-animation-speed) linear 0s infinite normal none running mfm-shake;
}

._mfm_twitch_ {
  animation: var(--default-animation-speed) linear 0s infinite normal none running mfm-twitch;
}

._mfm_rainbow_ {
  animation: var(--default-animation-speed) linear 0s infinite normal none running mfm-rainbow;
}

._mfm_sparkle_ {
  animation: var(--default-animation-speed) linear 0s infinite normal none running mfm-sparkle;
}

._mfm_rotate_ {
  transform: rotate(90deg);
  transform-origin: center center 0px;
}
